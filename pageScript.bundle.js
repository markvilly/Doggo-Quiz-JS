(()=>{var e={4802:e=>{e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}a=n[s]={exports:{}},t[s][0].call(a.exports,(function(e){return i(t[s][1][e]||e)}),a,a.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){(function(r,i,o,s,a,u,l,c,d){"use strict";var f=e("crypto");function h(e,t){var n;return void 0===(n="passthrough"!==(t=v(e,t)).algorithm?f.createHash(t.algorithm):new y).write&&(n.write=n.update,n.end=n.update),_(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=f.getHashes?f.getHashes().slice():["sha1","md5"],g=(p.push("passthrough"),["buffer","hex","binary","base64"]);function v(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===g.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+g.join(", "));return n}function m(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function _(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var i,s=Object.prototype.toString.call(t),a=/\[object (.*)\]/i.exec(s);if(a=(a=a?a[1]:"unknown:["+s+"]").toLowerCase(),0<=(s=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+s+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===a||"function"===a||"asyncfunction"===a)return s=Object.keys(t),e.unorderedObjects&&(s=s.sort()),!1===e.respectType||m(t)||s.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(s=s.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+s.length+":"),i=this,s.forEach((function(n){i.dispatch(n),r(":"),e.excludeValues||i.dispatch(t[n]),r(",")}));if(!this["_"+a]){if(e.ignoreUnknown)return r("["+a+"]");throw new Error('Unknown object type "'+a+'"')}this["_"+a](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach((function(e){return o.dispatch(e)}));var s=[];return i=t.map((function(t){var r=new y,i=n.slice();return _(e,r,i).dispatch(t),s=s.concat(i.slice(n.length)),r.read().toString()})),n=n.concat(s),i.sort(),this._array(i,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),m(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){return r("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function y(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),_(t=v(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,i,o,s,a,u,l){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),s="A".charCodeAt(0),a="-".charCodeAt(0),u="_".charCodeAt(0);function l(e){return(e=e.charCodeAt(0))===n||e===a?62:e===r||e===u?63:e<i?-1:e<i+10?e-i+26+26:e<s+26?e-s:e<o+26?e-o+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.length,o=(i="="===e.charAt(i-2)?2:"="===e.charAt(i-1)?1:0,new t(3*e.length/4-i)),s=0<i?e.length-4:e.length,a=0;function u(e){o[a++]=e}for(n=0;n<s;n+=4,0)u((16711680&(r=l(e.charAt(n))<<18|l(e.charAt(n+1))<<12|l(e.charAt(n+2))<<6|l(e.charAt(n+3))))>>16),u((65280&r)>>8),u(255&r);return 2==i?u(255&(r=l(e.charAt(n))<<2|l(e.charAt(n+1))>>4)):1==i&&(u((r=l(e.charAt(n))<<10|l(e.charAt(n+1))<<4|l(e.charAt(n+2))>>2)>>8&255),u(255&r)),o},e.fromByteArray=function(e){var t,n,r,i,o=e.length%3,s="";function a(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-o;t<r;t+=3)s+=a((i=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+a(i>>12&63)+a(i>>6&63)+a(63&i);switch(o){case 1:s=(s+=a((n=e[e.length-1])>>2))+a(n<<4&63)+"==";break;case 2:s=(s=(s+=a((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+a(n>>4&63))+a(n<<2&63)+"="}return s}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,i,o,s,a,u,l,c){var d=e("base64-js"),f=e("ieee754");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o,s,a,u=typeof e;if("base64"===t&&"string"==u)for(e=(a=e).trim?a.trim():a.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==u)r=T(e);else if("string"==u)r=i.byteLength(e,t);else{if("object"!=u)throw new Error("First argument needs to be a number, array or string.");r=T(e.length)}if(i._useTypedArrays?o=i._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(R(a=e)||i.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length)for(s=0;s<r;s++)i.isBuffer(e)?o[s]=e.readUInt8(s):o[s]=e[s];else if("string"==u)o.write(e,0,t);else if("number"==u&&!i._useTypedArrays&&!n)for(s=0;s<r;s++)o[s]=0;return o}function h(e,t,n,r){return i._charsWritten=L(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function p(e,t,n,r){return i._charsWritten=L(function(e){for(var t,n,r=[],i=0;i<e.length;i++)t=(n=e.charCodeAt(i))>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}function g(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function v(e,t,n,r){var i;if(r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(i=e[t],t+1<r&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<r&&(i|=e[t+1])),i}function m(e,t,n,r){var i;if(r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(i=e[t+2]<<16),t+1<r&&(i|=e[t+1]<<8),i|=e[t],t+3<r&&(i+=e[t+3]<<24>>>0)):(t+1<r&&(i=e[t+1]<<16),t+2<r&&(i|=e[t+2]<<8),t+3<r&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function _(e,t,n,r){if(r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=v(e,t,n,!0))?-1*(65535-r+1):r}function y(e,t,n,r){if(r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=m(e,t,n,!0))?-1*(4294967295-r+1):r}function b(e,t,n,r){return r||(q("boolean"==typeof n,"missing or invalid endian"),q(t+3<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,23,4)}function w(e,t,n,r){return r||(q("boolean"==typeof n,"missing or invalid endian"),q(t+7<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,52,8)}function k(e,t,n,r,i){if(i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+1<e.length,"trying to write beyond buffer length"),j(t,65535)),!((i=e.length)<=n))for(var o=0,s=Math.min(i-n,2);o<s;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function A(e,t,n,r,i){if(i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+3<e.length,"trying to write beyond buffer length"),j(t,4294967295)),!((i=e.length)<=n))for(var o=0,s=Math.min(i-n,4);o<s;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function x(e,t,n,r,i){i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+1<e.length,"Trying to write beyond buffer length"),$(t,32767,-32768)),e.length<=n||k(e,0<=t?t:65535+t+1,n,r,i)}function E(e,t,n,r,i){i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+3<e.length,"Trying to write beyond buffer length"),$(t,2147483647,-2147483648)),e.length<=n||A(e,0<=t?t:4294967295+t+1,n,r,i)}function S(e,t,n,r,i){i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+3<e.length,"Trying to write beyond buffer length"),N(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||f.write(e,t,n,r,23,4)}function I(e,t,n,r,i){i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+7<e.length,"Trying to write beyond buffer length"),N(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||f.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=O(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=M(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(e,t){if(q(R(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];if("number"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new i(t),r=0,o=0;o<e.length;o++){var s=e[o];s.copy(n,r),r+=s.length}return n},i.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(l=r,r=t,t=n,n=l),t=Number(t)||0;var o,s,a,u,l=this.length-t;switch((!n||l<(n=Number(n)))&&(n=l),r=String(r||"utf8").toLowerCase()){case"hex":o=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o),q((o=t.length)%2==0,"Invalid hex string"),o/2<r&&(r=o/2);for(var s=0;s<r;s++){var a=parseInt(t.substr(2*s,2),16);q(!isNaN(a),"Invalid hex string"),e[n+s]=a}return i._charsWritten=2*s,s}(this,e,t,n);break;case"utf8":case"utf-8":s=this,a=t,u=n,o=i._charsWritten=L(O(e),s,a,u);break;case"ascii":case"binary":o=h(this,e,t,n);break;case"base64":s=this,a=t,u=n,o=i._charsWritten=L(M(e),s,a,u);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=p(this,e,t,n);break;default:throw new Error("Unknown encoding")}return o},i.prototype.toString=function(e,t,n){var r,i,o,s,a=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):a.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;o++)i+=C(e[o]);return i}(a,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=B(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+B(i)}(a,t,n);break;case"ascii":case"binary":r=g(a,t,n);break;case"base64":i=a,s=n,r=0===(o=t)&&s===i.length?d.fromByteArray(i):d.fromByteArray(i.slice(o,s));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(a,t,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){q(n<=r,"sourceEnd < sourceStart"),q(0<=t&&t<e.length,"targetStart out of bounds"),q(0<=n&&n<this.length,"sourceStart out of bounds"),q(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(o<100||!i._useTypedArrays)for(var s=0;s<o;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+o),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=P(e,n,0),t=P(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),s=0;s<r;s++)o[s]=this[s+e];return o},i.prototype.get=function(e){return this.readUInt8(e)},i.prototype.set=function(e,t){return this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(q(null!=e,"missing offset"),q(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return v(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return v(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return m(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return m(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(q(null!=e,"missing offset"),q(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return _(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return _(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return y(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return y(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return b(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return b(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return w(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return w(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(q(null!=e,"missing value"),q(null!=t,"missing offset"),q(t<this.length,"trying to write beyond buffer length"),j(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){k(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){k(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){A(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){A(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(q(null!=e,"missing value"),q(null!=t,"missing offset"),q(t<this.length,"Trying to write beyond buffer length"),$(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){x(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){x(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){I(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){I(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,q("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),q(t<=n,"end < start"),n!==t&&0!==this.length){q(0<=t&&t<this.length,"start out of bounds"),q(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=C(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var F=i.prototype;function P(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function T(e){return(e=~~Math.ceil(+e))<0?0:e}function R(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function C(e){return e<16?"0"+e.toString(16):e.toString(16)}function O(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var i=n,o=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(i,n+1)).substr(1).split("%")),s=0;s<o.length;s++)t.push(parseInt(o[s],16))}return t}function M(e){return d.toByteArray(e)}function L(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function B(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function j(e,t){q("number"==typeof e,"cannot write a non-number as a number"),q(0<=e,"specified a negative value for writing an unsigned value"),q(e<=t,"value is larger than maximum value for type"),q(Math.floor(e)===e,"value has a fractional component")}function $(e,t,n){q("number"==typeof e,"cannot write a non-number as a number"),q(e<=t,"value larger than maximum allowed value"),q(n<=e,"value smaller than minimum allowed value"),q(Math.floor(e)===e,"value has a fractional component")}function N(e,t,n){q("number"==typeof e,"cannot write a non-number as a number"),q(e<=t,"value larger than maximum allowed value"),q(n<=e,"value smaller than minimum allowed value")}function q(e,t){if(!e)throw new Error(t||"Failed assertion")}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=F.get,e.set=F.set,e.write=F.write,e.toString=F.toString,e.toLocaleString=F.toString,e.toJSON=F.toJSON,e.copy=F.copy,e.slice=F.slice,e.readUInt8=F.readUInt8,e.readUInt16LE=F.readUInt16LE,e.readUInt16BE=F.readUInt16BE,e.readUInt32LE=F.readUInt32LE,e.readUInt32BE=F.readUInt32BE,e.readInt8=F.readInt8,e.readInt16LE=F.readInt16LE,e.readInt16BE=F.readInt16BE,e.readInt32LE=F.readInt32LE,e.readInt32BE=F.readInt32BE,e.readFloatLE=F.readFloatLE,e.readFloatBE=F.readFloatBE,e.readDoubleLE=F.readDoubleLE,e.readDoubleBE=F.readDoubleBE,e.writeUInt8=F.writeUInt8,e.writeUInt16LE=F.writeUInt16LE,e.writeUInt16BE=F.writeUInt16BE,e.writeUInt32LE=F.writeUInt32LE,e.writeUInt32BE=F.writeUInt32BE,e.writeInt8=F.writeInt8,e.writeInt16LE=F.writeInt16LE,e.writeInt16BE=F.writeInt16BE,e.writeInt32LE=F.writeInt32LE,e.writeInt32BE=F.writeInt32BE,e.writeFloatLE=F.writeFloatLE,e.writeFloatBE=F.writeFloatBE,e.writeDoubleLE=F.writeDoubleLE,e.writeDoubleBE=F.writeDoubleBE,e.fill=F.fill,e.inspect=F.inspect,e.toArrayBuffer=F.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,i,o,s,a,u,l,c){i=e("buffer").Buffer;var d=4,f=new i(d);f.fill(0),t.exports={hash:function(e,t,n,r){for(var o=t(function(e,t){e.length%d!=0&&(n=e.length+(d-e.length%d),e=i.concat([e,f],n));for(var n,r=[],o=t?e.readInt32BE:e.readInt32LE,s=0;s<e.length;s+=d)r.push(o.call(e,s));return r}(e=i.isBuffer(e)?e:new i(e),r),8*e.length),s=(t=r,new i(n)),a=t?s.writeInt32BE:s.writeInt32LE,u=0;u<o.length;u++)a.call(s,o[u],4*u,!0);return s}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,i,o,s,a,u,l,c){i=e("buffer").Buffer;var d=e("./sha"),f=e("./sha256"),h=e("./rng"),p={sha1:d,sha256:f,md5:e("./md5")},g=64,v=new i(g);function m(e,t){var n=p[e=e||"sha1"],r=[];return n||_("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var o=i.concat(r);return o=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>g?t=e(t):t.length<g&&(t=i.concat([t,v],g));for(var r=new i(g),o=new i(g),s=0;s<g;s++)r[s]=54^t[s],o[s]=92^t[s];return n=e(i.concat([r,n])),e(i.concat([o,n]))}(n,t,o):n(o),r=null,e?o.toString(e):o}}}function _(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}v.fill(0),n.createHash=function(e){return m(e)},n.createHmac=m,n.randomBytes=function(e,t){if(!t||!t.call)return new i(h(e));try{t.call(this,void 0,new i(h(e)))}catch(e){t(e)}};var y,b=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],w=function(e){n[e]=function(){_("sorry,",e,"is not implemented yet")}};for(y in b)w(b[y],y)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,i,o,s,a,u,l,c){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,u=r,l=i,c=o;n=p(n,r,i,o,e[s+0],7,-680876936),o=p(o,n,r,i,e[s+1],12,-389564586),i=p(i,o,n,r,e[s+2],17,606105819),r=p(r,i,o,n,e[s+3],22,-1044525330),n=p(n,r,i,o,e[s+4],7,-176418897),o=p(o,n,r,i,e[s+5],12,1200080426),i=p(i,o,n,r,e[s+6],17,-1473231341),r=p(r,i,o,n,e[s+7],22,-45705983),n=p(n,r,i,o,e[s+8],7,1770035416),o=p(o,n,r,i,e[s+9],12,-1958414417),i=p(i,o,n,r,e[s+10],17,-42063),r=p(r,i,o,n,e[s+11],22,-1990404162),n=p(n,r,i,o,e[s+12],7,1804603682),o=p(o,n,r,i,e[s+13],12,-40341101),i=p(i,o,n,r,e[s+14],17,-1502002290),n=g(n,r=p(r,i,o,n,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=g(o,n,r,i,e[s+6],9,-1069501632),i=g(i,o,n,r,e[s+11],14,643717713),r=g(r,i,o,n,e[s+0],20,-373897302),n=g(n,r,i,o,e[s+5],5,-701558691),o=g(o,n,r,i,e[s+10],9,38016083),i=g(i,o,n,r,e[s+15],14,-660478335),r=g(r,i,o,n,e[s+4],20,-405537848),n=g(n,r,i,o,e[s+9],5,568446438),o=g(o,n,r,i,e[s+14],9,-1019803690),i=g(i,o,n,r,e[s+3],14,-187363961),r=g(r,i,o,n,e[s+8],20,1163531501),n=g(n,r,i,o,e[s+13],5,-1444681467),o=g(o,n,r,i,e[s+2],9,-51403784),i=g(i,o,n,r,e[s+7],14,1735328473),n=v(n,r=g(r,i,o,n,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=v(o,n,r,i,e[s+8],11,-2022574463),i=v(i,o,n,r,e[s+11],16,1839030562),r=v(r,i,o,n,e[s+14],23,-35309556),n=v(n,r,i,o,e[s+1],4,-1530992060),o=v(o,n,r,i,e[s+4],11,1272893353),i=v(i,o,n,r,e[s+7],16,-155497632),r=v(r,i,o,n,e[s+10],23,-1094730640),n=v(n,r,i,o,e[s+13],4,681279174),o=v(o,n,r,i,e[s+0],11,-358537222),i=v(i,o,n,r,e[s+3],16,-722521979),r=v(r,i,o,n,e[s+6],23,76029189),n=v(n,r,i,o,e[s+9],4,-640364487),o=v(o,n,r,i,e[s+12],11,-421815835),i=v(i,o,n,r,e[s+15],16,530742520),n=m(n,r=v(r,i,o,n,e[s+2],23,-995338651),i,o,e[s+0],6,-198630844),o=m(o,n,r,i,e[s+7],10,1126891415),i=m(i,o,n,r,e[s+14],15,-1416354905),r=m(r,i,o,n,e[s+5],21,-57434055),n=m(n,r,i,o,e[s+12],6,1700485571),o=m(o,n,r,i,e[s+3],10,-1894986606),i=m(i,o,n,r,e[s+10],15,-1051523),r=m(r,i,o,n,e[s+1],21,-2054922799),n=m(n,r,i,o,e[s+8],6,1873313359),o=m(o,n,r,i,e[s+15],10,-30611744),i=m(i,o,n,r,e[s+6],15,-1560198380),r=m(r,i,o,n,e[s+13],21,1309151649),n=m(n,r,i,o,e[s+4],6,-145523070),o=m(o,n,r,i,e[s+11],10,-1120210379),i=m(i,o,n,r,e[s+2],15,718787259),r=m(r,i,o,n,e[s+9],21,-343485551),n=_(n,a),r=_(r,u),i=_(i,l),o=_(o,c)}return Array(n,r,i,o)}function h(e,t,n,r,i,o){return _((t=_(_(t,e),_(r,o)))<<i|t>>>32-i,n)}function p(e,t,n,r,i,o,s){return h(t&n|~t&r,e,t,i,o,s)}function g(e,t,n,r,i,o,s){return h(t&r|n&~r,e,t,i,o,s)}function v(e,t,n,r,i,o,s){return h(t^n^r,e,t,i,o,s)}function m(e,t,n,r,i,o,s){return h(n^(t|~r),e,t,i,o,s)}function _(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,f,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,i,o,s,a,u,l){var c;t.exports=c||function(e){for(var t,n=new Array(e),r=0;r<e;r++)!(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,i,o,s,a,u,l,c){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,o=Array(80),s=1732584193,a=-271733879,u=-1732584194,l=271733878,c=-1009589776,d=0;d<e.length;d+=16){for(var f=s,g=a,v=u,m=l,_=c,y=0;y<80;y++){o[y]=y<16?e[d+y]:p(o[y-3]^o[y-8]^o[y-14]^o[y-16],1);var b=h(h(p(s,5),(b=a,r=u,i=l,(n=y)<20?b&r|~b&i:!(n<40)&&n<60?b&r|b&i|r&i:b^r^i)),h(h(c,o[y]),(n=y)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));c=l,l=u,u=p(a,30),a=s,s=b}s=h(s,f),a=h(a,g),u=h(u,v),l=h(l,m),c=h(c,_)}return Array(s,a,u,l,c)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,f,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,i,o,s,a,u,l,c){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),i=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),o=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var s,a,u=0;u<e.length;u+=16){for(var l=i[0],c=i[1],f=i[2],h=i[3],v=i[4],m=i[5],_=i[6],y=i[7],b=0;b<64;b++)o[b]=b<16?e[b+u]:d(d(d((a=o[b-2],p(a,17)^p(a,19)^g(a,10)),o[b-7]),(a=o[b-15],p(a,7)^p(a,18)^g(a,3))),o[b-16]),n=d(d(d(d(y,p(a=v,6)^p(a,11)^p(a,25)),v&m^~v&_),r[b]),o[b]),s=d(p(s=l,2)^p(s,13)^p(s,22),l&c^l&f^c&f),y=_,_=m,m=v,v=d(h,n),h=f,f=c,c=l,l=d(n,s);i[0]=d(l,i[0]),i[1]=d(c,i[1]),i[2]=d(f,i[2]),i[3]=d(h,i[3]),i[4]=d(v,i[4]),i[5]=d(m,i[5]),i[6]=d(_,i[6]),i[7]=d(y,i[7])}return i}var h=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},g=function(e,t){return e>>>t};t.exports=function(e){return h.hash(e,f,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,i,o,s,a,u,l){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,d=n?i-1:0,f=n?-1:1;for(i=e[t+d],d+=f,o=i&(1<<-c)-1,i>>=-c,c+=a;0<c;o=256*o+e[t+d],d+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;0<c;s=256*s+e[t+d],d+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(i?-1:1);s+=Math.pow(2,r),o-=l}return(i?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u=8*o-i-1,l=(1<<u)-1,c=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1;for(o=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-s))<1&&(s--,r*=2),2<=(t+=1<=s+c?d/r:d*Math.pow(2,1-c))*r&&(s++,r/=2),l<=s+c?(a=0,s=l):1<=s+c?(a=(t*r-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));8<=i;e[n+f]=255&a,f+=h,a/=256,i-=8);for(s=s<<i|a,u+=i;0<u;e[n+f]=255&s,f+=h,s/=256,u-=8);e[n+f-h]|=128*o}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,i,o,s,a,u,l){var c,d,f;function h(){}(e=t.exports={}).nextTick=(d="undefined"!=typeof window&&window.setImmediate,f="undefined"!=typeof window&&window.postMessage&&window.addEventListener,d?function(e){return window.setImmediate(e)}:f?(c=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<c.length&&c.shift()())}),!0),function(e){c.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},1429:e=>{e.exports={NODE_ENV:"production",TARGET_BROWSER:"firefox",API_ENDPOINT:"https://api.simplify.jobs",SIMPLIFY_DOMAIN:"https://simplify.jobs",SIMPLIFY_HOST:"simplify.jobs",SABRE_CONFIG_URL:"https://sabre.simplify.jobs",AXIOM_ORG_ID:"simplify-qiqd",AXIOM_ANALYTICS_API_TOKEN:"xaat-e0a585d9-2911-489d-8c83-babd0dc44f28",POSTHOG_ANALYTICS_ID:"foZTeM1AW8dh5WkaofxTYiInBhS4XzTzRqLs50kVziw",ANALYSIS_MODE:!1,SIMPLIFY_UNINSTALL_URL:"https://simplify.jobs/uninstall",FRIGADE_PUBLIC_API_KEY:"api_public_8GWmL7WA5ZhXlVJDwdggj3EJAvJSMhcCGwZVl4FPhT3I97vvn1d2En9Iax8yGuW8"}},7232:function(e,t,n){var r;!function(i,o){"use strict";var s="function",a="undefined",u="object",l="string",c="major",d="model",f="name",h="type",p="vendor",g="version",v="architecture",m="console",_="mobile",y="tablet",b="smarttv",w="wearable",k="embedded",A="Amazon",x="Apple",E="ASUS",S="BlackBerry",I="Browser",F="Chrome",P="Firefox",T="Google",R="Huawei",C="LG",O="Microsoft",M="Motorola",L="Opera",B="Samsung",j="Sharp",$="Sony",N="Xiaomi",q="Zebra",D="Facebook",U="Chromium OS",H="Mac OS",z=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},W=function(e,t){return typeof e===l&&-1!==V(t).indexOf(V(e))},V=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Y=function(e,t){for(var n,r,i,a,l,c,d=0;d<t.length&&!l;){var f=t[d],h=t[d+1];for(n=r=0;n<f.length&&!l&&f[n];)if(l=f[n++].exec(e))for(i=0;i<h.length;i++)c=l[++r],typeof(a=h[i])===u&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):o:this[a[0]]=c?a[1].call(this,c,a[2]):o:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):o):this[a]=c||o;d+=2}},Q=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(W(t[n][r],e))return"?"===n?o:n}else if(W(t[n],e))return"?"===n?o:n;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,g],[/opios[\/ ]+([\w\.]+)/i],[g,[f,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[f,L]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[f,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[f,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[f,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[f,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[f,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[f,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[g,[f,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+I]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+I],g],[/samsungbrowser\/([\w\.]+)/i],[g,[f,B+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,g],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,D],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[f,F+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,F+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[f,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[g,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[f,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,g],[/(cobalt)\/([\w\.]+)/i],[f,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,V]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,B],[h,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,B],[h,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,x],[h,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,x],[h,y]],[/(macintosh);/i],[d,[p,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,j],[h,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,R],[h,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,R],[h,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[p,N],[h,_]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,N],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,"OPPO"],[h,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[h,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[h,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,M],[h,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,M],[h,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,C],[h,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,C],[h,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[h,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[h,_]],[/(pixel c)\b/i],[d,[p,T],[h,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,T],[h,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,$],[h,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,$],[h,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[h,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,A],[h,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,A],[h,_]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[h,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,S],[h,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,E],[h,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,E],[h,_]],[/(nexus 9)/i],[d,[p,"HTC"],[h,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[h,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[h,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[h,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[h,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[h,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[h,y]],[/(surface duo)/i],[d,[p,O],[h,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[h,_]],[/(u304aa)/i],[d,[p,"AT&T"],[h,_]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[h,_]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[h,y]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[h,y]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[h,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[h,y]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[h,y]],[/\b(k88) b/i],[d,[p,"ZTE"],[h,y]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[h,_]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[h,_]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[h,y]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[h,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[h,y]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[h,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[h,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[h,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[h,_]],[/\b(ph-1) /i],[d,[p,"Essential"],[h,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[h,y]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[h,y]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[h,y]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[h,y]],[/(sprint) (\w+)/i],[p,d,[h,_]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,O],[h,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,q],[h,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,q],[h,_]],[/smart-tv.+(samsung)/i],[p,[h,b]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,B],[h,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,C],[h,b]],[/(apple) ?tv/i],[p,[d,x+" TV"],[h,b]],[/crkey/i],[[d,F+"cast"],[p,T],[h,b]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,A],[h,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,j],[h,b]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,$],[h,b]],[/(mitv-\w{5}) bui/i],[d,[p,N],[h,b]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[h,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,G],[d,G],[h,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[h,m]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[h,m]],[/(playstation [345portablevi]+)/i],[d,[p,$],[h,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,O],[h,m]],[/((pebble))app/i],[p,d,[h,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,x],[h,w]],[/droid.+; (glass) \d/i],[d,[p,T],[h,w]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,q],[h,w]],[/(quest( 2| pro)?)/i],[d,[p,D],[h,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,k]],[/(aeobc)\b/i],[d,[p,A],[h,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[h,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,_]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[g,Q,J]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,Q,J],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,H],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,g],[/\(bb(10);/i],[g,[f,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[f,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[f,F+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,U],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,g],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,g]]},K=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof K))return new K(e,t).getResult();var n=typeof i!==a&&i.navigator?i.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),m=n&&n.userAgentData?n.userAgentData:o,b=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(X,t):X,w=n&&n.userAgent==r;return this.getBrowser=function(){var e={};return e[f]=o,e[g]=o,Y.call(e,r,b.browser),e[c]=function(e){return typeof e===l?e.replace(/[^\d\.]/g,"").split(".")[0]:o}(e[g]),w&&n&&n.brave&&typeof n.brave.isBrave==s&&(e[f]="Brave"),e},this.getCPU=function(){var e={};return e[v]=o,Y.call(e,r,b.cpu),e},this.getDevice=function(){var e={};return e[p]=o,e[d]=o,e[h]=o,Y.call(e,r,b.device),w&&!e[h]&&m&&m.mobile&&(e[h]=_),w&&"Macintosh"==e[d]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[h]=y),e},this.getEngine=function(){var e={};return e[f]=o,e[g]=o,Y.call(e,r,b.engine),e},this.getOS=function(){var e={};return e[f]=o,e[g]=o,Y.call(e,r,b.os),w&&!e[f]&&m&&"Unknown"!=m.platform&&(e[f]=m.platform.replace(/chrome os/i,U).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===l&&e.length>500?G(e,500):e,this},this.setUA(r),this};K.VERSION="1.0.37",K.BROWSER=z([f,g,c]),K.CPU=z([v]),K.DEVICE=z([d,p,h,m,_,b,y,w,k]),K.ENGINE=K.OS=z([f,g]),typeof t!==a?(e.exports&&(t=e.exports=K),t.UAParser=K):n.amdO?(r=function(){return K}.call(t,n,t,e))===o||(e.exports=r):typeof i!==a&&(i.UAParser=K);var Z=typeof i!==a&&(i.jQuery||i.Zepto);if(Z&&!Z.ua){var ee=new K;Z.ua=ee.getResult(),Z.ua.get=function(){return ee.getUA()},Z.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Z.ua[n]=t[n]}}}("object"==typeof window?window:this)},6815:function(e,t){var n,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],n=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=e=>e&&"object"==typeof e&&"function"==typeof e.then,o=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},s=e=>1==e?"argument":"arguments",a=(e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((i,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,o({resolve:i,reject:s},t))}catch(o){n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(n[e](...r),i()):n[e](...r,o({resolve:i,reject:s},t))}))},u=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let l=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},n={})=>{let r=Object.create(null),i={has:(t,n)=>n in e||n in r,get(i,o,s){if(o in r)return r[o];if(!(o in e))return;let d=e[o];if("function"==typeof d)if("function"==typeof t[o])d=u(e,e[o],t[o]);else if(l(n,o)){let t=a(o,n[o]);d=u(e,e[o],t)}else d=d.bind(e);else if("object"==typeof d&&null!==d&&(l(t,o)||l(n,o)))d=c(d,t[o],n[o]);else{if(!l(n,"*"))return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(t){e[o]=t}}),d;d=c(d,t[o],n["*"])}return r[o]=d,d},set:(t,n,i,o)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},o=Object.create(e);return new Proxy(o,i)},d=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),f=new r((e=>"function"!=typeof e?e:function(t){const n=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),h=new r((e=>"function"!=typeof e?e:function(t,n,r){let o,s,a=!1,u=new Promise((e=>{o=function(t){a=!0,e(t)}}));try{s=e(t,n,o)}catch(e){s=Promise.reject(e)}const l=!0!==s&&i(s);if(!0!==s&&!l&&!a)return!1;const c=e=>{e.then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{}))};return c(l?s:u),!0})),p=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},g=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=p.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},v={devtools:{network:{onRequestFinished:d(f)}},runtime:{onMessage:d(h),onMessageExternal:d(h),sendMessage:g.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:g.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},m={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":m},services:{"*":m},websites:{"*":m}},c(e,v,n)};e.exports=n(chrome)}},void 0===(i="function"==typeof n?n.apply(t,r):n)||(e.exports=i)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=e=>Array.isArray(e)?e:void 0!==e?[e]:[];var t=n(7232);n.n(t)()("undefined"==typeof navigator?"":navigator.userAgent);var r;const i="undefined"!=typeof process&&(null===(r=process.versions)||void 0===r?void 0:r.node);let o=!1;("undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id||void 0!==n.g.browser&&n.g.browser.runtime&&n.g.browser.runtime.id)&&(o=!0);i||!o||n(6815);var s,a,u,l;const c=()=>{if("undefined"!=typeof navigator&&"onLine"in navigator)return navigator.onLine?void 0:"offline"},d="undefined"==typeof navigator?{}:{status:c(),type:null===(s=navigator.connection)||void 0===s?void 0:s.type,effectiveType:null===(a=navigator.connection)||void 0===a?void 0:a.effectiveType,downlink:null===(u=navigator.connection)||void 0===u?void 0:u.downlink,rtt:null===(l=navigator.connection)||void 0===l?void 0:l.rtt};var f,h;("undefined"!=typeof window&&(window.addEventListener("online",(()=>{d.status=c()})),window.addEventListener("offline",(()=>{d.status=c()}))),"undefined"!=typeof navigator)&&(null===(h=navigator.connection)||void 0===h||null===(f=h.addEventListener)||void 0===f||f.call(h,"change",(()=>{var e,t,n,r;d.status=c(),d.type=null===(e=navigator.connection)||void 0===e?void 0:e.type,d.effectiveType=null===(t=navigator.connection)||void 0===t?void 0:t.effectiveType,d.downlink=null===(n=navigator.connection)||void 0===n?void 0:n.downlink,d.rtt=null===(r=navigator.connection)||void 0===r?void 0:r.rtt})));n(4802);["undefined"!=typeof Element&&Element,"undefined"!=typeof Function&&Function,"undefined"!=typeof Location&&Location,"undefined"!=typeof ShadowRoot&&ShadowRoot].filter(Boolean);const p=e=>"object"==typeof e&&null!==e?"data__type"in e&&"Map"===e.data__type&&"data"in e?new Map(e.data):"data__type"in e&&"Set"===e.data__type&&"data"in e?new Set(e.data):Array.isArray(e)?e.map((e=>p(e))):Object.fromEntries(Object.entries(e).map((([e,t])=>[e,p(t)]))):e;function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}var I={DEBUG:!1,LIB_VERSION:"1.131.4"},F=Array.isArray,P=Object.prototype,T=P.hasOwnProperty,R=P.toString,C=F||function(e){return"[object Array]"===R.call(e)},O=function(e){return"function"==typeof e},M=function(e){return e===Object(e)&&!C(e)},L=function(e){if(M(e)){for(var t in e)if(T.call(e,t))return!1;return!0}return!1},B=function(e){return void 0===e},j=function(e){return"[object String]"==R.call(e)},$=function(e){return null===e},N=function(e){return B(e)||$(e)},q=function(e){return"[object Number]"==R.call(e)},D=function(e){return"[object Boolean]"===R.call(e)},U=function(e){return e instanceof FormData},H="undefined"!=typeof window?window:void 0,z="undefined"!=typeof globalThis?globalThis:H,W=Array.prototype,V=W.forEach,G=W.indexOf,Y=null==z?void 0:z.navigator,Q=null==z?void 0:z.document,J=null==z?void 0:z.location,X=null==z?void 0:z.fetch,K=null!=z&&z.XMLHttpRequest&&"withCredentials"in new z.XMLHttpRequest?z.XMLHttpRequest:void 0,Z=null==z?void 0:z.AbortController,ee=null==Y?void 0:Y.userAgent,te=null!=H?H:{},ne="[PostHog.js]",re={_log:function(e){if(H&&(I.DEBUG||te.POSTHOG_DEBUG)&&!B(H.console)&&H.console){for(var t=("__rrweb_original__"in H.console[e]?H.console[e].__rrweb_original__:H.console[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[ne].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];re._log.apply(re,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];re._log.apply(re,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];re._log.apply(re,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[ne].concat(n))},uninitializedWarning:function(e){re.error("You must initialize PostHog before calling ".concat(e))}},ie={},oe=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function se(e,t,n){if(C(e))if(V&&e.forEach===V)e.forEach(t,n);else if("length"in e&&e.length===+e.length)for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===ie)return}function ae(e,t,n){if(!N(e)){if(C(e))return se(e,t,n);if(U(e)){var r,i=S(e.entries());try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.call(n,o[1],o[0])===ie)return}}catch(e){i.e(e)}finally{i.f()}}else for(var s in e)if(T.call(e,s)&&t.call(n,e[s],s)===ie)return}}var ue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return se(n,(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e};function le(e,t){return-1!==e.indexOf(t)}function ce(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var de=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},fe=function(e){try{return e()}catch(e){return}},he=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(e){re.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),re.critical(e)}}},pe=function(e){var t={};return ae(e,(function(e,n){j(e)&&e.length>0&&(t[n]=e)})),t};var ge,ve=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,o){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!o);else{var s="on"+n,a=t[s];t[s]=function(t,n,r){return function(i){if(i=i||e(null==H?void 0:H.event)){var o,s=!0;O(r)&&(o=r(i));var a=n.call(t,i);return!1!==o&&!1!==a||(s=!1),s}}}(t,r,a)}else re.error("No valid element provided to register_event")}}();function me(e,t){var n=function(){if(!Q)return t("document not found");var n=Q.createElement("script");n.type="text/javascript",n.src=e,n.onload=function(e){return t(void 0,e)},n.onerror=function(e){return t(e)};var r,i=Q.querySelectorAll("body > script");i.length>0?null===(r=i[0].parentNode)||void 0===r||r.insertBefore(n,i[0]):Q.body.appendChild(n)};null!=Q&&Q.body?n():null==Q||Q.addEventListener("DOMContentLoaded",n)}!function(e){e.GZipJS="gzip-js",e.Base64="base64"}(ge||(ge={}));var _e="$people_distinct_id",ye="__alias",be="__timers",we="$autocapture_disabled_server_side",ke="$heatmaps_enabled_server_side",Ae="$session_recording_enabled_server_side",xe="$console_log_recording_enabled_server_side",Ee="$session_recording_network_payload_capture",Se="$session_recording_canvas_recording",Ie="$replay_sample_rate",Fe="$replay_minimum_duration",Pe="$sesid",Te="$session_is_sampled",Re="$enabled_feature_flags",Ce="$early_access_features",Oe="$stored_person_properties",Me="$stored_group_properties",Le="$surveys",Be="$flag_call_reported",je="$user_state",$e="$client_session_props",Ne="$capture_rate_limit",qe="$initial_campaign_params",De="$initial_referrer_info",Ue="$epp",He="__POSTHOG_TOOLBAR__",ze=[_e,ye,"__cmpns",be,Ae,ke,Pe,Re,je,Ce,Me,Oe,Le,Be,$e,Ne,qe,De,Ue],We="$active_feature_flags",Ve="$override_feature_flags",Ge="$feature_flag_payloads",Ye=function(e){var t,n={},r=S(ce(e||{}));try{for(r.s();!(t=r.n()).done;){var i=k(t.value,2),o=i[0],s=i[1];s&&(n[o]=s)}}catch(e){r.e(e)}finally{r.f()}return n},Qe=function(){function e(t){_(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return b(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(Re),t=this.instance.get_property(Ve);if(!t)return e||{};for(var n=ue({},e),r=Object.keys(t),i=0;i<r.length;i++)n[r[i]]=t[r[i]];return this._override_warning||(re.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this._override_warning=!0),n}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(Ge)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout((function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())}),5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(Oe),r=this.instance.get_property(Me),i={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:ge.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){var n;e.setReloadingPaused(!1);var r=!0;200===t.statusCode&&(e.$anon_distinct_id=void 0,r=!1),e.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},r),e._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var n,r=this.getFlagVariants()[e],i="".concat(r),o=this.instance.get_property(Be)||{};return!t.send_event&&"send_event"in t||e in o&&o[e].includes(i)||(C(o[e])?o[e].push(i):o[e]=[i],null===(n=this.instance.persistence)||void 0===n||n.register(w({},Be,o)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:r})),r}re.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);re.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((function(t){return t!==e}))}},{key:"receivedFeatureFlags",value:function(e,t){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var n=this.getFlagVariants(),r=this.getFlagPayloads();!function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.featureFlags,s=e.featureFlagPayloads;if(o)if(C(o)){var a,u={};if(o)for(var l=0;l<o.length;l++)u[o[l]]=!0;t&&t.register((w(a={},We,o),w(a,Re,u),a))}else{var c=o,d=s;e.errorsWhileComputingFlags&&(c=v(v({},r),c),d=v(v({},i),d)),t&&t.register((w(n={},We,Object.keys(Ye(c))),w(n,Re,c||{}),w(n,Ge,d||{}),n))}}(e,this.instance.persistence,n,r),this._fireFeatureFlagsCallbacks(t)}}},{key:"override",value:function(e){if(!this.instance.__loaded||!this.instance.persistence)return re.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,!1===e)this.instance.persistence.unregister(Ve);else if(C(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;this.instance.persistence.register(w({},Ve,t))}else this.instance.persistence.register(w({},Ve,e))}},{key:"onFeatureFlags",value:function(e){var t=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;e(r,i)}return function(){return t.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){var n,r,i=w({},"$feature_enrollment/".concat(e),t);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:t,$set:i}),this.setPersonPropertiesForFlags(i,!1);var o=v(v({},this.getFlagVariants()),{},w({},e,t));null===(n=this.instance.persistence)||void 0===n||n.register((w(r={},We,Object.keys(Ye(o))),w(r,Re,o),r)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.get_property(Ce);if(r&&!n)return e(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(n){var r;if(n.json){var i=n.json.earlyAccessFeatures;return null===(r=t.instance.persistence)||void 0===r||r.register(w({},Ce,i)),e(i)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((function(e){return t[e]})),flagVariants:Object.keys(t).filter((function(e){return t[e]})).reduce((function(e,n){return e[n]=t[n],e}),{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(e){var t=this._prepareFeatureFlagsForCallbacks(),n=t.flags,r=t.flagVariants;this.featureFlagEventHandlers.forEach((function(t){return t(n,r,{errorsLoading:e})}))}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(Oe)||{};this.instance.register(w({},Oe,v(v({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(Oe)}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(Me)||{};0!==Object.keys(n).length&&Object.keys(n).forEach((function(t){n[t]=v(v({},n[t]),e[t]),delete e[t]})),this.instance.register(w({},Me,v(v({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var t=this.instance.get_property(Me)||{};this.instance.register(w({},Me,v(v({},t),{},w({},e,{}))))}else this.instance.unregister(Me)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return q(e)&&isFinite(e)&&Math.floor(e)===e});var Je="0123456789abcdef",Xe=function(){function e(t){if(_(this,e),this.bytes=t,16!==t.length)throw new TypeError("not 128-bit length")}return b(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.bytes.length;t++)e=e+Je.charAt(this.bytes[t]>>>4)+Je.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw new Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(e){return 0===this.compareTo(e)}},{key:"compareTo",value:function(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=t/Math.pow(2,40),o[1]=t/Math.pow(2,32),o[2]=t/Math.pow(2,24),o[3]=t/Math.pow(2,16),o[4]=t/Math.pow(2,8),o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new e(o)}}]),e}(),Ke=function(){function e(){_(this,e),w(this,"timestamp",0),w(this,"counter",0),w(this,"random",new tt)}return b(e,[{key:"generate",value:function(){var e=this.generateOrAbort();if(B(e)){this.timestamp=0;var t=this.generateOrAbort();if(B(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Xe.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),Ze=function(e){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};H&&!B(H.crypto)&&crypto.getRandomValues&&(Ze=function(e){return crypto.getRandomValues(e)});var et,tt=function(){function e(){_(this,e),w(this,"buffer",new Uint32Array(8)),w(this,"cursor",1/0)}return b(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(Ze(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),nt=function(){return rt().toString()},rt=function(){return(et||(et=new Ke)).generate()},it="",ot=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;var st,at={is_supported:function(){return!!Q},error:function(e){re.error("cookieStore error: "+e)},get:function(e){if(Q){try{for(var t=e+"=",n=Q.cookie.split(";").filter((function(e){return e.length})),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(at.get(e))||{}}catch(e){}return t},set:function(e,t,n,r,i){if(Q)try{var o="",s="",a=function(e,t){if(t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q;if(it)return it;if(!t)return"";if(["localhost","127.0.0.1"].includes(e))return"";for(var n=e.split("."),r=Math.min(n.length,8),i="dmn_chk_"+nt(),o=new RegExp("(^|;)\\s*"+i+"=1");!it&&r--;){var s=n.slice(r).join("."),a=i+"=1;domain=."+s;t.cookie=a,o.test(t.cookie)&&(t.cookie=a+";expires=Thu, 01 Jan 1970 00:00:00 GMT",it=s)}return it}(e);if(!n){var r=function(e){var t=e.match(ot);return t?t[0]:""}(e);r!==n&&re.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}(Q.location.hostname,r);if(n){var u=new Date;u.setTime(u.getTime()+24*n*60*60*1e3),o="; expires="+u.toUTCString()}i&&(s="; secure");var l=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+a+s;return l.length>3686.4&&re.warn("cookieStore warning: large cookie, len="+l.length),Q.cookie=l,l}catch(e){return}},remove:function(e,t){try{at.set(e,"",-1,t)}catch(e){return}}},ut=null,lt={is_supported:function(){if(!$(ut))return ut;var e=!0;if(B(H))e=!1;else try{var t="__mplssupport__";lt.set(t,"xyz"),'"xyz"'!==lt.get(t)&&(e=!1),lt.remove(t)}catch(t){e=!1}return e||re.error("localStorage unsupported; falling back to cookie store"),ut=e,e},error:function(e){re.error("localStorage error: "+e)},get:function(e){try{return null==H?void 0:H.localStorage.getItem(e)}catch(e){lt.error(e)}return null},parse:function(e){try{return JSON.parse(lt.get(e))||{}}catch(e){}return null},set:function(e,t){try{null==H||H.localStorage.setItem(e,JSON.stringify(t))}catch(e){lt.error(e)}},remove:function(e){try{null==H||H.localStorage.removeItem(e)}catch(e){lt.error(e)}}},ct=["distinct_id",Pe,Te,Ue],dt=v(v({},lt),{},{parse:function(e){try{var t={};try{t=at.parse(e)||{}}catch(e){}var n=ue(t,JSON.parse(lt.get(e)||"{}"));return lt.set(e,n),n}catch(e){}return null},set:function(e,t,n,r,i){try{lt.set(e,t);var o={};ct.forEach((function(e){t[e]&&(o[e]=t[e])})),Object.keys(o).length&&at.set(e,o,n,r,i)}catch(e){lt.error(e)}},remove:function(e,t){try{null==H||H.localStorage.removeItem(e),at.remove(e,t)}catch(e){lt.error(e)}}}),ft={},ht={is_supported:function(){return!0},error:function(e){re.error("memoryStorage error: "+e)},get:function(e){return ft[e]||null},parse:function(e){return ft[e]||null},set:function(e,t){ft[e]=t},remove:function(e){delete ft[e]}},pt=null,gt={is_supported:function(){if(!$(pt))return pt;if(pt=!0,B(H))pt=!1;else try{var e="__support__";gt.set(e,"xyz"),'"xyz"'!==gt.get(e)&&(pt=!1),gt.remove(e)}catch(e){pt=!1}return pt},error:function(e){re.error("sessionStorage error: ",e)},get:function(e){try{return null==H?void 0:H.sessionStorage.getItem(e)}catch(e){gt.error(e)}return null},parse:function(e){try{return JSON.parse(gt.get(e))||null}catch(e){}return null},set:function(e,t){try{null==H||H.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){gt.error(e)}},remove:function(e){try{null==H||H.sessionStorage.removeItem(e)}catch(e){gt.error(e)}}},vt=["localhost","127.0.0.1"],mt=function(e){var t=null==Q?void 0:Q.createElement("a");return B(t)?null:(t.href=e,t)},_t=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===t){n=o;break}}if(!C(n)||n.length<2)return"";var s=n[1];try{s=decodeURIComponent(s)}catch(e){re.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},yt=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},bt="Mobile",wt="iOS",kt="Android",At="Tablet",xt=kt+" "+At,Et="iPad",St="Apple",It=St+" Watch",Ft="Safari",Pt="BlackBerry",Tt="Samsung",Rt=Tt+"Browser",Ct=Tt+" Internet",Ot="Chrome",Mt=Ot+" OS",Lt=Ot+" "+wt,Bt="Internet Explorer",jt=Bt+" "+bt,$t="Opera",Nt=$t+" Mini",qt="Edge",Dt="Microsoft "+qt,Ut="Firefox",Ht=Ut+" "+wt,zt="Nintendo",Wt="PlayStation",Vt="Xbox",Gt=kt+" "+bt,Yt=bt+" "+Ft,Qt="Windows",Jt=Qt+" Phone",Xt="Nokia",Kt="Ouya",Zt="Generic",en=Zt+" "+bt.toLowerCase(),tn=Zt+" "+At.toLowerCase(),nn="Konqueror",rn="(\\d+(\\.\\d+)?)",on=new RegExp("Version/"+rn),sn=new RegExp(Vt,"i"),an=new RegExp(Wt+" \\w+","i"),un=new RegExp(zt+" \\w+","i"),ln=new RegExp(Pt+"|PlayBook|BB10","i"),cn={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},dn=function(e,t){return t=t||"",le(e," OPR/")&&le(e,"Mini")?Nt:le(e," OPR/")?$t:ln.test(e)?Pt:le(e,"IE"+bt)||le(e,"WPDesktop")?jt:le(e,Rt)?Ct:le(e,qt)||le(e,"Edg/")?Dt:le(e,"FBIOS")?"Facebook "+bt:le(e,Ot)?Ot:le(e,"CriOS")?Lt:le(e,"UCWEB")||le(e,"UCBrowser")?"UC Browser":le(e,"FxiOS")?Ht:le(e,kt)?Gt:le(e.toLowerCase(),nn.toLowerCase())?nn:function(e,t){return t&&le(t,St)||function(e){return le(e,Ft)&&!le(e,Ot)&&!le(e,kt)}(e)}(e,t)?le(e,bt)?Yt:Ft:le(e,Ut)?Ut:le(e,"MSIE")||le(e,"Trident/")?Bt:le(e,"Gecko")?Ut:""},fn=(w(st={},jt,[new RegExp("rv:"+rn)]),w(st,Dt,[new RegExp(qt+"?\\/"+rn)]),w(st,Ot,[new RegExp(Ot+"/"+rn)]),w(st,Lt,[new RegExp("CriOS\\/"+rn)]),w(st,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+rn)]),w(st,Ft,[on]),w(st,Yt,[on]),w(st,$t,[new RegExp("(Opera|OPR)\\/"+rn)]),w(st,Ut,[new RegExp(Ut+"\\/"+rn)]),w(st,Ht,[new RegExp("FxiOS\\/"+rn)]),w(st,nn,[new RegExp("Konqueror[:/]?"+rn,"i")]),w(st,Pt,[new RegExp(Pt+" "+rn),on]),w(st,Gt,[new RegExp("android\\s"+rn)]),w(st,Ct,[new RegExp(Rt+"\\/"+rn)]),w(st,Bt,[new RegExp("(rv:|MSIE )"+rn)]),w(st,"Mozilla",[new RegExp("rv:"+rn)]),st),hn=[[new RegExp(Vt+"; "+Vt+" (.*?)[);]","i"),function(e){return[Vt,e&&e[1]||""]}],[new RegExp(zt,"i"),[zt,""]],[new RegExp(Wt,"i"),[Wt,""]],[ln,[Pt,""]],[new RegExp(Qt,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[Jt,""];if(new RegExp(bt).test(t)&&!/IEMobile\b/.test(t))return[Qt+" "+bt,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=cn[r]||"";return/arm/i.test(t)&&(i="RT"),[Qt,i]}return[Qt,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[wt,t.join(".")]}return[wt,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=B(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+kt+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+kt+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[kt,t.join(".")]}return[kt,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Mt,""]],[/Linux|debian/i,["Linux",""]]],pn=function(e){return un.test(e)?zt:an.test(e)?Wt:sn.test(e)?Vt:new RegExp(Kt,"i").test(e)?Kt:new RegExp("("+Jt+"|WPDesktop)","i").test(e)?Jt:/iPad/.test(e)?Et:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?It:ln.test(e)?Pt:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(Xt,"i").test(e)?Xt:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(bt).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?kt:xt:kt:new RegExp("(pda|"+bt+")","i").test(e)?en:new RegExp(At,"i").test(e)&&!new RegExp(At+" pc","i").test(e)?tn:""},gn="https?://(.*)",vn=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],mn={campaignParams:function(e){var t=vn.concat(e||[]),n={};return ae(t,(function(e){var t=Q?_t(Q.URL,e):"";t.length&&(n[e]=t)})),n},searchEngine:function(){var e=null==Q?void 0:Q.referrer;return e?0===e.search(gn+"google.([^/?]*)")?"google":0===e.search(gn+"bing.com")?"bing":0===e.search(gn+"yahoo.com")?"yahoo":0===e.search(gn+"duckduckgo.com")?"duckduckgo":null:null},searchInfo:function(){var e=mn.searchEngine(),t="yahoo"!=e?"q":"p",n={};if(!$(e)){n.$search_engine=e;var r=Q?_t(Q.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:dn,browserVersion:function(e,t){var n=dn(e,t),r=fn[n];if(B(r))return null;for(var i=0;i<r.length;i++){var o=r[i],s=e.match(o);if(s)return parseFloat(s[s.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<hn.length;t++){var n=k(hn[t],2),r=n[0],i=n[1],o=r.exec(e),s=o&&(O(i)?i(o,e):i);if(s)return s}return["",""]},device:pn,deviceType:function(e){var t=pn(e);return t===Et||t===xt||"Kobo"===t||"Kindle Fire"===t||t===tn?At:t===zt||t===Vt||t===Wt||t===Kt?"Console":t===It?"Wearable":t?bt:"Desktop"},referrer:function(){return(null==Q?void 0:Q.referrer)||"$direct"},referringDomain:function(){var e;return null!=Q&&Q.referrer&&(null===(e=mt(Q.referrer))||void 0===e?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},properties:function(){if(!ee)return{};var e=k(mn.os(ee),2),t=e[0],n=e[1];return ue(pe({$os:t,$os_version:n,$browser:mn.browser(ee,navigator.vendor),$device:mn.device(ee),$device_type:mn.deviceType(ee)}),{$current_url:null==J?void 0:J.href,$host:null==J?void 0:J.host,$pathname:null==J?void 0:J.pathname,$raw_user_agent:ee.length>1e3?ee.substring(0,997)+"...":ee,$browser_version:mn.browserVersion(ee,navigator.vendor),$browser_language:mn.browserLanguage(),$screen_height:null==H?void 0:H.screen.height,$screen_width:null==H?void 0:H.screen.width,$viewport_height:null==H?void 0:H.innerHeight,$viewport_width:null==H?void 0:H.innerWidth,$lib:"web",$lib_version:I.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:de()/1e3})},people_properties:function(){if(!ee)return{};var e=k(mn.os(ee),2),t=e[0],n=e[1];return ue(pe({$os:t,$os_version:n,$browser:mn.browser(ee,navigator.vendor)}),{$browser_version:mn.browserVersion(ee,navigator.vendor)})}},_n=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],yn=function(){function e(t){_(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(e){var t="";return e.token&&(t=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),e.persistence_name?"ph_"+e.persistence_name:"ph_"+t+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return b(e,[{key:"buildStorage",value:function(e){-1===_n.indexOf(e.persistence.toLowerCase())&&(re.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&lt.is_supported()?lt:"localstorage+cookie"===t&&dt.is_supported()?dt:"sessionstorage"===t&&gt.is_supported()?gt:"memory"===t?ht:"cookie"===t?at:dt.is_supported()?dt:at}},{key:"properties",value:function(){var e={};return ae(this.props,(function(t,n){if(n===Re&&M(t))for(var r=Object.keys(t),i=0;i<r.length;i++)e["$feature/".concat(r[i])]=t[r[i]];else s=n,a=!1,($(o=ze)?a:G&&o.indexOf===G?-1!=o.indexOf(s):(ae(o,(function(e){if(a||(a=e===s))return ie})),a))||(e[n]=t);var o,s,a})),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=ue({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,t,n){var r=this;if(M(e)){B(t)&&(t="None"),this.expire_days=B(n)?this.default_expiry:n;var i=!1;if(ae(e,(function(e,n){r.props.hasOwnProperty(n)&&r.props[n]!==t||(r.props[n]=e,i=!0)})),i)return this.save(),!0}return!1}},{key:"register",value:function(e,t){var n=this;if(M(e)){this.expire_days=B(t)?this.default_expiry:t;var r=!1;if(ae(e,(function(t,i){e.hasOwnProperty(i)&&n.props[i]!==t&&(n.props[i]=t,r=!0)})),r)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(mn.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"set_initial_campaign_params",value:function(){this.register_once(w({},qe,mn.campaignParams(this.config.custom_campaign_params)),void 0)}},{key:"update_search_keyword",value:function(){this.register(mn.searchInfo())}},{key:"update_referrer_info",value:function(){this.register(mn.referrerInfo())}},{key:"set_initial_referrer_info",value:function(){this.register_once(w({},De,mn.referrerInfo()),void 0)}},{key:"get_referrer_info",value:function(){return pe({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var e=this,t={};return ae([De,qe],(function(n){var r=e.props[n];r&&ae(r,(function(e,n){var r;t["$initial_"+(r=n,r.replace(/^\$/,""))]=e}))})),t}},{key:"safe_merge",value:function(e){return ae(this.props,(function(t,n){n in e||(e[n]=t)})),e}},{key:"update_config",value:function(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var n=this.buildStorage(e),r=this.props;this.clear(),this.storage=n,this.props=r,this.save()}}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,t){var n=this.props[be]||{};n[e]=t,this.props[be]=n,this.save()}},{key:"remove_event_timer",value:function(e){var t=(this.props[be]||{})[e];return B(t)||(delete this.props[be][e],this.save()),t}},{key:"get_property",value:function(e){return this.props[e]}},{key:"set_property",value:function(e,t){this.props[e]=t,this.save()}}]),e}(),bn=2,wn=4,kn=b((function e(t){var n,r,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(this,e),w(this,"bucketSize",100),w(this,"refillRate",10),w(this,"mutationBuckets",{}),w(this,"loggedTracker",{}),w(this,"refillBuckets",(function(){Object.keys(i.mutationBuckets).forEach((function(e){i.mutationBuckets[e]=i.mutationBuckets[e]+i.refillRate,i.mutationBuckets[e]>=i.bucketSize&&delete i.mutationBuckets[e]}))})),w(this,"getNodeOrRelevantParent",(function(e){var t=i.rrweb.mirror.getNode(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var n=t.closest("svg");if(n)return[i.rrweb.mirror.getId(n),n]}return[e,t]})),w(this,"numberOfChanges",(function(e){var t,n,r,i,o,s,a,u;return(null!==(t=null===(n=e.removes)||void 0===n?void 0:n.length)&&void 0!==t?t:0)+(null!==(r=null===(i=e.attributes)||void 0===i?void 0:i.length)&&void 0!==r?r:0)+(null!==(o=null===(s=e.texts)||void 0===s?void 0:s.length)&&void 0!==o?o:0)+(null!==(a=null===(u=e.adds)||void 0===u?void 0:u.length)&&void 0!==a?a:0)})),w(this,"throttleMutations",(function(e){if(3!==e.type||0!==e.data.source)return e;var t=e.data,n=i.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((function(e){var t,n,r,o=k(i.getNodeOrRelevantParent(e.id),2),s=o[0],a=o[1];return 0!==i.mutationBuckets[s]&&(i.mutationBuckets[s]=null!==(t=i.mutationBuckets[s])&&void 0!==t?t:i.bucketSize,i.mutationBuckets[s]=Math.max(i.mutationBuckets[s]-1,0),0===i.mutationBuckets[s]&&(i.loggedTracker[s]||(i.loggedTracker[s]=!0,null===(n=(r=i.options).onBlockedNode)||void 0===n||n.call(r,s,a))),e)})));var r=i.numberOfChanges(t);return 0!==r||n===r?e:void 0})),this.rrweb=t,this.options=o,this.refillRate=null!==(n=this.options.refillRate)&&void 0!==n?n:this.refillRate,this.bucketSize=null!==(r=this.options.bucketSize)&&void 0!==r?r:this.bucketSize,setInterval((function(){i.refillBuckets()}),1e3)})),An=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(An||{});function xn(e){return e?oe(e).split(/\s+/):[]}function En(e){var t="";switch(m(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return xn(t)}function Sn(e){return N(e)?null:oe(e).split(/(\s+)/).filter((function(e){return Hn(e)})).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function In(e){var t="";return Ln(e)&&!Bn(e)&&e.childNodes&&e.childNodes.length&&ae(e.childNodes,(function(e){var n;Tn(e)&&e.textContent&&(t+=null!==(n=Sn(e.textContent))&&void 0!==n?n:"")})),oe(t)}function Fn(e){return!!e&&1===e.nodeType}function Pn(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Tn(e){return!!e&&3===e.nodeType}function Rn(e){return!!e&&11===e.nodeType}var Cn=["a","button","form","input","select","textarea","label"];function On(e){var t=e.parentNode;return!(!t||!Fn(t))&&t}function Mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!H||!e||Pn(e,"html")||!Fn(e))return!1;if(null!=n&&n.url_allowlist){var o=H.location.href,s=n.url_allowlist;if(s&&!s.some((function(e){return o.match(e)})))return!1}if(null!=n&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some((function(e){return t.type===e})))return!1}for(var u=!1,l=[e],c=!0,d=e;d.parentNode&&!Pn(d,"body");)if(Rn(d.parentNode))l.push(d.parentNode.host),d=d.parentNode.host;else{if(!(c=On(d)))break;if(r||Cn.indexOf(c.tagName.toLowerCase())>-1)u=!0;else{var f=H.getComputedStyle(c);f&&"pointer"===f.getPropertyValue("cursor")&&(u=!0)}l.push(c),d=c}if(!function(e,t){var n=null==t?void 0:t.element_allowlist;if(B(n))return!0;var r,i=S(e);try{var o=function(){var e=r.value;if(n.some((function(t){return e.tagName.toLowerCase()===t})))return{v:!0}};for(i.s();!(r=i.n()).done;){var s=o();if("object"===m(s))return s.v}}catch(e){i.e(e)}finally{i.f()}return!1}(l,n))return!1;if(!function(e,t){var n=null==t?void 0:t.css_selector_allowlist;if(B(n))return!0;var r,i=S(e);try{var o=function(){var e=r.value;if(n.some((function(t){return e.matches(t)})))return{v:!0}};for(i.s();!(r=i.n()).done;){var s=o();if("object"===m(s))return s.v}}catch(e){i.e(e)}finally{i.f()}return!1}(l,n))return!1;var h=H.getComputedStyle(e);if(h&&"pointer"===h.getPropertyValue("cursor")&&"click"===t.type)return!0;var p=e.tagName.toLowerCase();switch(p){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return u?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(Cn.indexOf(p)>-1||"true"===e.getAttribute("contenteditable"))}}function Ln(e){for(var t=e;t.parentNode&&!Pn(t,"body");t=t.parentNode){var n=En(t);if(le(n,"ph-sensitive")||le(n,"ph-no-capture"))return!1}if(le(En(e),"ph-include"))return!0;var r=e.type||"";if(j(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!j(i)||!/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,""))}function Bn(e){return!!(Pn(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Pn(e,"select")||Pn(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var jn="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",$n=new RegExp("^(?:".concat(jn,")$")),Nn=new RegExp(jn),qn="\\d{3}-?\\d{2}-?\\d{4}",Dn=new RegExp("^(".concat(qn,")$")),Un=new RegExp("(".concat(qn,")"));function Hn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(N(e))return!1;if(j(e)){if(e=oe(e),(t?$n:Nn).test((e||"").replace(/[- ]/g,"")))return!1;if((t?Dn:Un).test(e))return!1}return!0}function zn(e){var t=In(e);return Hn(t="".concat(t," ").concat(Wn(e)).trim())?t:""}function Wn(e){var t="";return e&&e.childNodes&&e.childNodes.length&&ae(e.childNodes,(function(e){var n;if(e&&"span"===(null===(n=e.tagName)||void 0===n?void 0:n.toLowerCase()))try{var r=In(e);t="".concat(t," ").concat(r).trim(),e.childNodes&&e.childNodes.length&&(t="".concat(t," ").concat(Wn(e)).trim())}catch(e){re.error(e)}})),t}function Vn(e){return function(e){var t=e.map((function(e){var t,n,r="";if(e.tag_name&&(r+=e.tag_name),e.attr_class){e.attr_class.sort();var i,o=S(e.attr_class);try{for(o.s();!(i=o.n()).done;){var s=i.value;r+=".".concat(s.replace(/"/g,""))}}catch(e){o.e(e)}finally{o.f()}}var a=v(v(v(v({},e.text?{text:e.text}:{}),{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(n=e.nth_of_type)&&void 0!==n?n:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),u={};return ce(a).sort((function(e,t){var n=k(e,1)[0],r=k(t,1)[0];return n.localeCompare(r)})).forEach((function(e){var t=k(e,2),n=t[0],r=t[1];return u[Gn(n.toString())]=Gn(r.toString())})),(r+=":")+ce(a).map((function(e){var t=k(e,2),n=t[0],r=t[1];return"".concat(n,'="').concat(r,'"')})).join("")}));return t.join(";")}(function(e){return e.map((function(e){var t,n,r={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(n=e.attr__href)||void 0===n?void 0:n.slice(0,2048),attr_class:Yn(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return ce(e).filter((function(e){return 0===k(e,1)[0].indexOf("attr__")})).forEach((function(e){var t=k(e,2),n=t[0],i=t[1];return r.attributes[n]=i})),r}))}(e))}function Gn(e){return e.replace(/"|\\"/g,'\\"')}function Yn(e){var t=e.attr__class;return t?C(t)?t:xn(t):void 0}var Qn="[SessionRecording]",Jn={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},Xn=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],Kn=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],Zn=["/s/","/e/","/i/"];function er(e,t,n,r){if(N(e))return e;var i=(null==t?void 0:t["content-length"])||function(e){return new Blob([e]).size}(e);return j(i)&&(i=parseInt(i)),i>n?Qn+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function tr(e,t){if(N(e))return e;var n=e;return Hn(n,!1)||(n=Qn+" "+t+" body redacted"),ae(Kn,(function(e){var r,i;null!==(r=n)&&void 0!==r&&r.length&&-1!==(null===(i=n)||void 0===i?void 0:i.indexOf(e))&&(n=Qn+" "+t+" body redacted as might contain: "+e)})),n}var nr="__ph_opt_in_out_";function rr(e,t){dr(!0,e,t)}function ir(e,t){dr(!1,e,t)}function or(e,t){return"1"===cr(e,t)}function sr(e,t){return!!function(e){if(e&&e.respectDnt){var t=e&&e.window||H,n=null==t?void 0:t.navigator,r=!1;return ae([null==n?void 0:n.doNotTrack,n.msDoNotTrack,t.doNotTrack],(function(e){le([!0,1,"1","yes"],e)&&(r=!0)})),r}return!1}(t)||"0"===cr(e,t)}function ar(e,t){ur(t=t||{}).remove(lr(e,t),!!t.crossSubdomainCookie)}function ur(e){return"localStorage"===(e=e||{}).persistenceType?lt:"localStorage+cookie"===e.persistenceType?dt:at}function lr(e,t){return((t=t||{}).persistencePrefix||nr)+e}function cr(e,t){return ur(t).get(lr(e,t))}function dr(e,t,n){j(t)&&t.length?(ur(n=n||{}).set(lr(t,n),e?1:0,q(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):re.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function fr(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,o=e.config.opt_out_capturing_cookie_prefix||void 0,s=e.config.window;n&&(t=sr(n,{respectDnt:r,persistenceType:i,persistencePrefix:o,window:s}))}catch(e){re.error("Unexpected error when checking capturing opt-out status: "+e)}return t}var hr,pr=3e5,gr=pr;!function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"}(hr||(hr={}));var vr,mr=[hr.MouseMove,hr.MouseInteraction,hr.Scroll,hr.ViewportResize,hr.Input,hr.TouchMove,hr.MediaInteraction,hr.Drag],_r=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},yr="[SessionRecording]",br=function(){function e(t){var n=this;if(_(this,e),w(this,"queuedRRWebEvents",[]),w(this,"isIdle",!1),w(this,"_linkedFlagSeen",!1),w(this,"_lastActivityTimestamp",Date.now()),w(this,"windowId",null),w(this,"sessionId",null),w(this,"_linkedFlag",null),w(this,"_forceAllowLocalhostNetworkCapture",!1),w(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,null==H||H.addEventListener("beforeunload",(function(){n._flushBuffer()})),null==H||H.addEventListener("offline",(function(){n._tryAddCustomEvent("browser offline",{})})),null==H||H.addEventListener("online",(function(){n._tryAddCustomEvent("browser online",{})})),null==H||H.addEventListener("visibilitychange",(function(){if(null!=Q&&Q.visibilityState){var e="window "+Q.visibilityState;n._tryAddCustomEvent(e,{})}})),!this.instance.sessionManager)throw re.error(yr+" started without valid sessionManager"),new Error(yr+" started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer(),this._setupSampling()}return b(e,[{key:"rrwebRecord",get:function(){var e;return null==te||null===(e=te.rrweb)||void 0===e?void 0:e.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw re.error(yr+" started without valid sessionManager"),new Error(yr+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var e=this.instance.get_property(Te);return D(e)?e:null}},{key:"sessionDuration",get:function(){var e,t,n=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],r=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return n?n.timestamp-r:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(Ae),t=!this.instance.config.disable_session_recording;return H&&e&&t}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(xe),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}},{key:"canvasRecording",get:function(){var e=this.instance.get_property(Se);return e&&e.fps&&e.quality?{enabled:e.enabled,fps:e.fps,quality:e.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var e,t,n=this.instance.get_property(Ee),r={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},i=(null==r?void 0:r.recordHeaders)||(null==n?void 0:n.recordHeaders),o=(null==r?void 0:r.recordBody)||(null==n?void 0:n.recordBody),s=this.instance.config.capture_performance||(null==n?void 0:n.capturePerformance);return i||o||s?{recordHeaders:i,recordBody:o,recordPerformance:s}:void 0}},{key:"sampleRate",get:function(){var e=this.instance.get_property(Ie);return q(e)?e:null}},{key:"minimumDuration",get:function(){var e=this.instance.get_property(Fe);return q(e)?e:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?N(this._linkedFlag)||this._linkedFlagSeen?D(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),re.info(yr+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,re.info(yr+" stopped"))}},{key:"makeSamplingDecision",value:function(e){var t,n=this.sessionId!==e,r=this.sampleRate;if(q(r)){var i,o=this.isSampled,s=n||!D(o);!(i=s?Math.random()<r:o)&&s&&re.warn(yr+" Sample rate (".concat(r,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:r}),null===(t=this.instance.persistence)||void 0===t||t.register(w({},Te,i))}else{var a;null===(a=this.instance.persistence)||void 0===a||a.register(w({},Te,null))}}},{key:"afterDecideResponse",value:function(e){var t,n,r,i=this;if(this._persistDecideResponse(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(n=e.sessionRecording)&&void 0!==n&&n.endpoint&&(this._endpoint=null===(r=e.sessionRecording)||void 0===r?void 0:r.endpoint),this._setupSampling(),!N(this._linkedFlag)){var o=j(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,s=j(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((function(e,t){var n=M(t)&&o in t,r=s?t[o]===s:n;if(r){var a={linkedFlag:o,linkedVariant:s},u="linked flag matched";re.info(yr+" "+u,a),i._tryAddCustomEvent(u,a)}i._linkedFlagSeen=r}))}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var e=this;q(this.sampleRate)&&$(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId((function(t){e.makeSamplingDecision(t)})))}},{key:"_persistDecideResponse",value:function(e){if(this.instance.persistence){var t=this.instance.persistence,n=function(){var n,r,i,o,s,a,u,l,c=null===(n=e.sessionRecording)||void 0===n?void 0:n.sampleRate,d=N(c)?null:parseFloat(c),f=null===(r=e.sessionRecording)||void 0===r?void 0:r.minimumDurationMilliseconds;t.register((w(l={},Ae,!!e.sessionRecording),w(l,xe,null===(i=e.sessionRecording)||void 0===i?void 0:i.consoleLogRecordingEnabled),w(l,Ee,v({capturePerformance:e.capturePerformance},null===(o=e.sessionRecording)||void 0===o?void 0:o.networkPayloadCapture)),w(l,Se,{enabled:null===(s=e.sessionRecording)||void 0===s?void 0:s.recordCanvas,fps:null===(a=e.sessionRecording)||void 0===a?void 0:a.canvasFps,quality:null===(u=e.sessionRecording)||void 0===u?void 0:u.canvasQuality}),w(l,Ie,d),w(l,Fe,B(f)?null:f),l))};n(),this.sessionManager.onSessionId(n)}}},{key:"log",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:de()})}},{key:"_startCapture",value:function(){var e=this;B(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||fr(this.instance)||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():me(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat(I.LIB_VERSION)),(function(t){if(t)return re.error(yr+" could not load recorder.js",t);e._onScriptLoaded()})))}},{key:"isInteractiveEvent",value:function(e){var t;return 3===e.type&&-1!==mr.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}},{key:"_updateWindowAndSessionIds",value:function(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>gr&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:e.timestamp-this._lastActivityTimestamp,threshold:gr}));var n=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)),!this.isIdle){var r=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),i=r.windowId,o=r.sessionId,s=this.sessionId!==o,a=this.windowId!==i;this.windowId=i,this.sessionId=o,(n||-1===[bn,wn].indexOf(e.type)&&(a||s))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):re.warn(yr+" could not emit queued rrweb event.",t,e),!1}}},{key:"_tryAddCustomEvent",value:function(e,t){var n=this;return this._tryRRWebMethod(_r((function(){return n.rrwebRecord.addCustomEvent(e,t)})))}},{key:"_tryTakeFullSnapshot",value:function(){var e=this;return this._tryRRWebMethod(_r((function(){return e.rrwebRecord.takeFullSnapshot()})))}},{key:"_onScriptLoaded",value:function(){for(var e,t=this,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording,i=0,o=Object.entries(r||{});i<o.length;i++){var s=k(o[i],2),a=s[0],u=s[1];a in n&&(n[a]=u)}if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new kn(this.rrwebRecord,{onBlockedNode:function(e,n){var r="Too many mutations on node '".concat(e,"'. Rate limiting. This could be due to SVG animations or something similar");re.info(r,{node:n}),t.log(yr+" "+r,"warn")}}),this._scheduleFullSnapshot();var l=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(v({emit:function(e){t.onRRwebEmit(e)},plugins:l},n)),this.instance._addCaptureHook((function(e){try{if("$pageview"===e){var n=H?t._maskUrl(H.location.href):"";if(!n)return;t._tryAddCustomEvent("$pageview",{href:n}),t._tryTakeFullSnapshot()}}catch(e){re.error("Could not add $pageview to rrweb session",e)}})),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:l.map((function(e){return null==e?void 0:e.name}))}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else re.error(yr+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var e=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval((function(){e._tryTakeFullSnapshot()}),pr)}},{key:"_gatherRRWebPlugins",value:function(){var e=[];return te.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&e.push(te.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&O(te.getRecordNetworkPlugin)&&(!vt.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?e.push(te.getRecordNetworkPlugin(function(e,t){var n,r,i,o={payloadSizeLimitBytes:Jn.payloadSizeLimitBytes,performanceEntryTypeToObserve:A(Jn.performanceEntryTypeToObserve)},s=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,u=!1!==e.capture_performance&&t.recordPerformance,l=(n=o,i=Math.min(1e6,null!==(r=n.payloadSizeLimitBytes)&&void 0!==r?r:1e6),function(e){return null!=e&&e.requestBody&&(e.requestBody=er(e.requestBody,e.requestHeaders,i,"Request")),null!=e&&e.responseBody&&(e.responseBody=er(e.responseBody,e.responseHeaders,i,"Response")),e}),c=function(e){return l(function(e){var t=mt(e.name);if(!(t&&t.pathname&&Zn.some((function(e){return 0===t.pathname.indexOf(e)}))))return e}((t=e,ae(Object.keys(null!==(n=t.requestHeaders)&&void 0!==n?n:{}),(function(e){var n;Xn.includes(e.toLowerCase())&&(null===(n=t.requestHeaders)||void 0===n||delete n[e])})),t)));var t,n},d=O(e.session_recording.maskNetworkRequestFn);return d&&O(e.session_recording.maskCapturedNetworkRequestFn)&&re.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(t){var n=e.session_recording.maskNetworkRequestFn({url:t.name});return v(v({},t),{},{name:null==n?void 0:n.url})}),o.maskRequestFn=O(e.session_recording.maskCapturedNetworkRequestFn)?function(t){var n,r,i,o=c(t);return o&&null!==(n=null===(r=(i=e.session_recording).maskCapturedNetworkRequestFn)||void 0===r?void 0:r.call(i,o))&&void 0!==n?n:void 0}:function(e){return function(e){if(!B(e))return e.requestBody=tr(e.requestBody,"Request"),e.responseBody=tr(e.responseBody,"Response"),e}(c(e))},v(v(v({},Jn),o),{},{recordHeaders:s,recordBody:a,recordPerformance:u,recordInitialRequests:u})}(this.instance.config,this.networkPayloadCapture))):re.info(yr+" NetworkCapture not started because we are on localhost.")),e}},{key:"onRRwebEmit",value:function(e){if(this._processQueuedEvents(),e&&M(e)){if(e.type===An.Meta){var t=this._maskUrl(e.data.href);if(this._lastHref=t,!t)return;e.data.href=t}else this._pageViewFallBack();e.type===An.FullSnapshot&&this._scheduleFullSnapshot();var n=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(n){var r=function(e){var t=e;if(t&&M(t)&&6===t.type&&M(t.data)&&"rrweb/console@1"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push("...[truncated]"));for(var n=[],r=0;r<t.data.payload.payload.length;r++)t.data.payload.payload[r]&&t.data.payload.payload[r].length>2e3?n.push(t.data.payload.payload[r].slice(0,2e3)+"...[truncated]"):n.push(t.data.payload.payload[r]);return t.data.payload.payload=n,e}return e}(n),i=JSON.stringify(r).length;if(this._updateWindowAndSessionIds(r),!this.isIdle||r.type===An.Custom){var o={$snapshot_bytes:i,$snapshot_data:r,$session_id:this.sessionId,$window_id:this.windowId};"disabled"!==this.status?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&H){var e=this._maskUrl(H.location.href);this._lastHref!==e&&(this._tryAddCustomEvent("$url_changed",{href:e}),this._lastHref=e)}}},{key:"_processQueuedEvents",value:function(){var e=this;if(this.queuedRRWebEvents.length){var t=A(this.queuedRRWebEvents);this.queuedRRWebEvents=[],t.forEach((function(n){Date.now()-n.enqueuedAt>2e3?e._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:n.enqueuedAt,attempt:n.attempt,queueLength:t.length}):e._tryRRWebMethod(n)&&e._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:n.enqueuedAt,attempt:n.attempt,queueLength:t.length})}))}}},{key:"_maskUrl",value:function(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var n,r={url:e};return null===(n=r=t.maskNetworkRequestFn(r))||void 0===n?void 0:n.url}return e}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,n=this.sessionDuration,r=q(n)&&n>=0,i=q(t)&&r&&n<t;return"buffering"===this.status||i?(this.flushBufferTimer=setTimeout((function(){e._flushBuffer()}),2e3),this.buffer||this.clearBuffer()):this.buffer&&0!==this.buffer.data.length?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(e){var t,n=this,r=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);(!this.buffer||this.buffer.size+e.$snapshot_bytes+r>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),$(this.buffer.sessionId)&&!$(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout((function(){n._flushBuffer()}),2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),wr=function(){function e(t){_(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return b(e,[{key:"call",value:function(){var e=this,t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Oe),group_properties:this.instance.get_property(Me),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:ge.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){return e.parseDecideResponse(t.json)}})}},{key:"parseDecideResponse",value:function(e){var t=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var n=!e;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(null!=e?e:{},n),n)re.error("Failed to fetch feature flags from PostHog.");else{if(!Q||!Q.body)return re.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((function(){t.parseDecideResponse(e)}),500);this.instance._afterDecideResponse(e);var r=null==H?void 0:H.extendPostHogWithExceptionAutoCapture;if(e.autocaptureExceptions&&e.autocaptureExceptions&&B(r)&&me(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),(function(n){if(n)return re.error("Could not load exception autocapture script",n);H.extendPostHogWithExceptionAutocapture(t.instance,e)})),e.siteApps)if(this.instance.config.opt_in_site_apps){var i,o=S(e.siteApps);try{var s=function(){var e=i.value,n=e.id,r=e.url,o=t.instance.requestRouter.endpointFor("api",r);te["__$$ph_site_app_".concat(n)]=t.instance,me(o,(function(e){e&&re.error("Error while initializing PostHog app with config id ".concat(n),e)}))};for(o.s();!(i=o.n()).done;)s()}catch(e){o.e(e)}finally{o.f()}}else e.siteApps.length>0&&re.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),kr=null!=H&&H.location?yt(H.location.hash,"__posthog")||yt(location.hash,"state"):null,Ar="_postHogToolbarParams";!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"}(vr||(vr={}));var xr=function(){function e(t){_(this,e),this.instance=t}return b(e,[{key:"setToolbarState",value:function(e){te.ph_toolbar_state=e}},{key:"getToolbarState",value:function(){var e;return null!==(e=te.ph_toolbar_state)&&void 0!==e?e:vr.UNINITIALIZED}},{key:"maybeLoadToolbar",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!H||!Q)return!1;n=null!==(e=n)&&void 0!==e?e:H.location,i=null!==(t=i)&&void 0!==t?t:H.history;try{if(!r){try{H.localStorage.setItem("test","test"),H.localStorage.removeItem("test")}catch(e){return!1}r=null==H?void 0:H.localStorage}var o,s=kr||yt(n.hash,"__posthog")||yt(n.hash,"state"),a=s?fe((function(){return JSON.parse(atob(decodeURIComponent(s)))}))||fe((function(){return JSON.parse(decodeURIComponent(s))})):null;return a&&"ph_authorize"===a.action?((o=a).source="url",o&&Object.keys(o).length>0&&(a.desiredHash?n.hash=a.desiredHash:i?i.replaceState(i.state,"",n.pathname+n.search):n.hash="")):((o=JSON.parse(r.getItem(Ar)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token||(this.loadToolbar(o),0))}catch(e){return!1}}},{key:"_callLoadToolbar",value:function(e){(te.ph_load_toolbar||te.ph_load_editor)(e,this.instance)}},{key:"loadToolbar",value:function(e){var t=this,n=!(null==Q||!Q.getElementById(He));if(!H||n)return!1;var r="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,i=v(v({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(H.localStorage.setItem(Ar,JSON.stringify(v(v({},i),{},{source:void 0}))),this.getToolbarState()===vr.LOADED)this._callLoadToolbar(i);else if(this.getToolbarState()===vr.UNINITIALIZED){this.setToolbarState(vr.LOADING);var o=3e5,s=Math.floor(Date.now()/o)*o;me(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(s)),(function(e){if(e)return re.error("Failed to load toolbar",e),void t.setToolbarState(vr.UNINITIALIZED);t.setToolbarState(vr.LOADED),t._callLoadToolbar(i)})),ve(H,"turbolinks:load",(function(){t.setToolbarState(vr.UNINITIALIZED),t.loadToolbar(i)}))}return!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,n)}}]),e}(),Er=function(){function e(t){_(this,e),w(this,"isPaused",!0),w(this,"queue",[]),w(this,"flushTimeoutMs",3e3),this.sendRequest=t}return b(e,[{key:"enqueue",value:function(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var e=this;this.clearFlushTimeout();var t=this.queue.length>0?this.formatQueue():{},n=Object.values(t);[].concat(A(n.filter((function(e){return 0===e.url.indexOf("/e")}))),A(n.filter((function(e){return 0!==e.url.indexOf("/e")})))).map((function(t){e.sendRequest(v(v({},t),{},{transport:"sendBeacon"}))}))}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var e=this;this.isPaused||(this.flushTimeout=setTimeout((function(){if(e.clearFlushTimeout(),e.queue.length>0){var t=e.formatQueue(),n=function(n){var r=t[n],i=(new Date).getTime();r.data&&C(r.data)&&ae(r.data,(function(e){e.offset=Math.abs(e.timestamp-i),delete e.timestamp})),e.sendRequest(r)};for(var r in t)n(r)}}),this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var e={};return ae(this.queue,(function(t){var n,r=t,i=(r?r.batchKey:null)||r.url;B(e[i])&&(e[i]=v(v({},r),{},{data:[]})),null===(n=e[i].data)||void 0===n||n.push(r.data)})),this.queue=[],e}}]),e}(),Sr=Uint8Array,Ir=Uint16Array,Fr=Uint32Array,Pr=new Sr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tr=new Sr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Rr=new Sr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cr=function(e,t){for(var n=new Ir(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Fr(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},Or=Cr(Pr,2),Mr=Or[0],Lr=Or[1];Mr[28]=258,Lr[258]=28;for(var Br=Cr(Tr,0)[1],jr=new Ir(32768),$r=0;$r<32768;++$r){var Nr=(43690&$r)>>>1|(21845&$r)<<1;Nr=(61680&(Nr=(52428&Nr)>>>2|(13107&Nr)<<2))>>>4|(3855&Nr)<<4,jr[$r]=((65280&Nr)>>>8|(255&Nr)<<8)>>>1}var qr=function(e,t,n){for(var r=e.length,i=0,o=new Ir(t);i<r;++i)++o[e[i]-1];var s,a=new Ir(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new Ir(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],c=t-e[i],d=a[e[i]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)s[jr[d]>>>u]=l}else for(s=new Ir(r),i=0;i<r;++i)s[i]=jr[a[e[i]-1]++]>>>15-e[i];return s},Dr=new Sr(288);for($r=0;$r<144;++$r)Dr[$r]=8;for($r=144;$r<256;++$r)Dr[$r]=9;for($r=256;$r<280;++$r)Dr[$r]=7;for($r=280;$r<288;++$r)Dr[$r]=8;var Ur=new Sr(32);for($r=0;$r<32;++$r)Ur[$r]=5;var Hr=qr(Dr,9,0),zr=qr(Ur,5,0),Wr=function(e){return(e/8|0)+(7&e&&1)},Vr=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof Ir?Ir:e instanceof Fr?Fr:Sr)(n-t);return r.set(e.subarray(t,n)),r},Gr=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},Yr=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Qr=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new Sr(0),0];if(1==i){var s=new Sr(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],u=n[1],l=0,c=1,d=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};c!=i-1;)a=n[n[l].f<n[d].f?l++:d++],u=n[l!=c&&n[l].f<n[d].f?l++:d++],n[c++]={s:-1,f:a.f+u.f,l:a,r:u};var f=o[0].s;for(r=1;r<i;++r)o[r].s>f&&(f=o[r].s);var h=new Ir(f+1),p=Jr(n[c-1],h,0);if(p>t){r=0;var g=0,v=p-t,m=1<<v;for(o.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));r<i;++r){var _=o[r].s;if(!(h[_]>t))break;g+=m-(1<<p-h[_]),h[_]=t}for(g>>>=v;g>0;){var y=o[r].s;h[y]<t?g-=1<<t-h[y]++-1:++r}for(;r>=0&&g;--r){var b=o[r].s;h[b]==t&&(--h[b],++g)}p=t}return[new Sr(h),p]},Jr=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},Xr=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ir(++t),r=0,i=e[0],o=1,s=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},Kr=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Zr=function(e,t,n){var r=n.length,i=Wr(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},ei=function(e,t,n,r,i,o,s,a,u,l,c){Gr(t,c++,n),++i[256];for(var d=Qr(i,15),f=d[0],h=d[1],p=Qr(o,15),g=p[0],v=p[1],m=Xr(f),_=m[0],y=m[1],b=Xr(g),w=b[0],k=b[1],A=new Ir(19),x=0;x<_.length;++x)A[31&_[x]]++;for(x=0;x<w.length;++x)A[31&w[x]]++;for(var E=Qr(A,7),S=E[0],I=E[1],F=19;F>4&&!S[Rr[F-1]];--F);var P,T,R,C,O=l+5<<3,M=Kr(i,Dr)+Kr(o,Ur)+s,L=Kr(i,f)+Kr(o,g)+s+14+3*F+Kr(A,S)+(2*A[16]+3*A[17]+7*A[18]);if(O<=M&&O<=L)return Zr(t,c,e.subarray(u,u+l));if(Gr(t,c,1+(L<M)),c+=2,L<M){P=qr(f,h,0),T=f,R=qr(g,v,0),C=g;var B=qr(S,I,0);for(Gr(t,c,y-257),Gr(t,c+5,k-1),Gr(t,c+10,F-4),c+=14,x=0;x<F;++x)Gr(t,c+3*x,S[Rr[x]]);c+=3*F;for(var j=[_,w],$=0;$<2;++$){var N=j[$];for(x=0;x<N.length;++x){var q=31&N[x];Gr(t,c,B[q]),c+=S[q],q>15&&(Gr(t,c,N[x]>>>5&127),c+=N[x]>>>12)}}}else P=Hr,T=Dr,R=zr,C=Ur;for(x=0;x<a;++x)if(r[x]>255){q=r[x]>>>18&31,Yr(t,c,P[q+257]),c+=T[q+257],q>7&&(Gr(t,c,r[x]>>>23&31),c+=Pr[q]);var D=31&r[x];Yr(t,c,R[D]),c+=C[D],D>3&&(Yr(t,c,r[x]>>>5&8191),c+=Tr[D])}else Yr(t,c,P[r[x]]),c+=T[r[x]];return Yr(t,c,P[256]),c+T[256]},ti=new Fr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ni=new Sr(0),ri=function(){for(var e=new Fr(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),ii=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function oi(e,t){void 0===t&&(t={});var n=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=ri[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}}(),r=e.length;n.p(e);var i,o=function(e,t,n,r,i){return function(e,t,n,r,i,o){var s=e.length,a=new Sr(r+s+5*(1+Math.floor(s/7e3))+i),u=a.subarray(r,a.length-i),l=0;if(!t||s<8)for(var c=0;c<=s;c+=65535){var d=c+65535;d<s?l=Zr(u,l,e.subarray(c,d)):(u[c]=o,l=Zr(u,l,e.subarray(c,s)))}else{for(var f=ti[t-1],h=f>>>13,p=8191&f,g=(1<<n)-1,v=new Ir(32768),m=new Ir(g+1),_=Math.ceil(n/3),y=2*_,b=function(t){return(e[t]^e[t+1]<<_^e[t+2]<<y)&g},w=new Fr(25e3),k=new Ir(288),A=new Ir(32),x=0,E=0,S=(c=0,0),I=0,F=0;c<s;++c){var P=b(c),T=32767&c,R=m[P];if(v[T]=R,m[P]=T,I<=c){var C=s-c;if((x>7e3||S>24576)&&C>423){l=ei(e,u,0,w,k,A,E,S,F,c-F,l),S=x=E=0,F=c;for(var O=0;O<286;++O)k[O]=0;for(O=0;O<30;++O)A[O]=0}var M=2,L=0,B=p,j=T-R&32767;if(C>2&&P==b(c-j))for(var $=Math.min(h,C)-1,N=Math.min(32767,c),q=Math.min(258,C);j<=N&&--B&&T!=R;){if(e[c+M]==e[c+M-j]){for(var D=0;D<q&&e[c+D]==e[c+D-j];++D);if(D>M){if(M=D,L=j,D>$)break;var U=Math.min(j,D-2),H=0;for(O=0;O<U;++O){var z=c-j+O+32768&32767,W=z-v[z]+32768&32767;W>H&&(H=W,R=z)}}}j+=(T=R)-(R=v[T])+32768&32767}if(L){w[S++]=268435456|Lr[M]<<18|Br[L];var V=31&Lr[M],G=31&Br[L];E+=Pr[V]+Tr[G],++k[257+V],++A[G],I=c+M,++x}else w[S++]=e[c],++k[e[c]]}}l=ei(e,u,o,w,k,A,E,S,F,c-F,l),o||(l=Zr(u,l,ni))}return Vr(a,0,r+Wr(l)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)}(e,t,10+((i=t).filename&&i.filename.length+1||0),8),s=o.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&ii(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}}(o,t),ii(o,s-8,n.d()),ii(o,s-4,r),o}var si=!!K||!!X,ai="text/plain",ui=function(e,t){var n=k(e.split("?"),2),r=n[0],i=n[1],o=v({},t);null==i||i.split("&").forEach((function(e){var t=k(e.split("="),1)[0];delete o[t]}));var s=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",i=[];return ae(e,(function(e,r){B(e)||B(r)||"undefined"===r||(t=encodeURIComponent(function(e){return e instanceof File}(e)?e.name:e.toString()),n=encodeURIComponent(r),i[i.length]=n+"="+t)})),i.join(r)}(o);return s=s?(i?i+"&":"")+s:i,"".concat(r,"?").concat(s)},li=function(e){return"data="+encodeURIComponent("string"==typeof e?e:JSON.stringify(e))},ci=function(e){var t=e.data,n=e.compression;if(t){if(n===ge.GZipJS){var r=oi(function(e,t){var n=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new Sr(e.length+(e.length>>>1)),i=0,o=function(e){r[i++]=e},s=0;s<n;++s){if(i+5>r.length){var a=new Sr(i+8+(n-s<<1));a.set(r),r=a}var u=e.charCodeAt(s);u<128?o(u):u<2048?(o(192|u>>>6),o(128|63&u)):u>55295&&u<57344?(o(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++s))>>>18),o(128|u>>>12&63),o(128|u>>>6&63),o(128|63&u)):(o(224|u>>>12),o(128|u>>>6&63),o(128|63&u))}return Vr(r,0,i)}(JSON.stringify(t)),{mtime:0});return{contentType:ai,body:new Blob([r],{type:ai})}}if(n===ge.Base64){var i=function(e){var t,n,r,i,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,u=0,l="",c=[];if(!e)return e;e=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var s=e.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),$(a)||(n>t&&(o+=e.substring(t,n)),o+=a,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o}(e);do{t=(o=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,c[u++]=s.charAt(t)+s.charAt(n)+s.charAt(r)+s.charAt(i)}while(a<e.length);switch(l=c.join(""),e.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:li(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},di=[];K&&di.push({transport:"XHR",method:function(e){var t,n=new K;n.open(e.method||"GET",e.url,!0);var r=null!==(t=ci(e))&&void 0!==t?t:{},i=r.contentType,o=r.body;ae(e.headers,(function(e,t){n.setRequestHeader(t,e)})),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(4===n.readyState){var t,r={statusCode:n.status,text:n.responseText};if(200===n.status)try{r.json=JSON.parse(n.responseText)}catch(e){}null===(t=e.callback)||void 0===t||t.call(e,r)}},n.send(o)}}),X&&di.push({transport:"fetch",method:function(e){var t,n,r=null!==(t=ci(e))&&void 0!==t?t:{},i=r.contentType,o=r.body,s=new Headers;ae(s,(function(e,t){s.append(t,e)})),i&&s.append("Content-Type",i);var a=e.url,u=null;if(Z){var l=new Z;u={signal:l.signal,timeout:setTimeout((function(){return l.abort()}),e.timeout)}}X(a,{method:(null==e?void 0:e.method)||"GET",headers:s,keepalive:"POST"===e.method,body:o,signal:null===(n=u)||void 0===n?void 0:n.signal}).then((function(t){return t.text().then((function(n){var r,i={statusCode:t.status,text:n};if(200===t.status)try{i.json=JSON.parse(n)}catch(e){re.error(e)}null===(r=e.callback)||void 0===r||r.call(e,i)}))})).catch((function(t){var n;re.error(t),null===(n=e.callback)||void 0===n||n.call(e,{statusCode:0,text:t})})).finally((function(){return u?clearTimeout(u.timeout):null}))}}),null!=Y&&Y.sendBeacon&&di.push({transport:"sendBeacon",method:function(e){var t=ui(e.url,{beacon:"1"});try{var n,r=null!==(n=ci(e))&&void 0!==n?n:{},i=r.contentType,o=r.body,s="string"==typeof o?new Blob([o],{type:i}):o;Y.sendBeacon(t,s)}catch(e){}}});var fi,hi=["retriesPerformedSoFar"],pi=function(){function e(t){var n=this;_(this,e),w(this,"isPolling",!1),w(this,"pollIntervalMs",3e3),w(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!B(H)&&"onLine"in H.navigator&&(this.areWeOnline=H.navigator.onLine,H.addEventListener("online",(function(){n.areWeOnline=!0,n.flush()})),H.addEventListener("offline",(function(){n.areWeOnline=!1})))}return b(e,[{key:"retriableRequest",value:function(e){var t=this,n=e.retriesPerformedSoFar,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,hi);q(n)&&n>0&&(r.url=ui(r.url,{retry_count:n})),this.instance._send_request(v(v({},r),{},{callback:function(e){var i;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=n?n:0)<10?t.enqueue(v({},r)):null===(i=r.callback)||void 0===i||i.call(r,e)}}))}},{key:"enqueue",value:function(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var n=function(e){var t=3e3*Math.pow(2,e),n=t/2,r=Math.min(18e5,t),i=(Math.random()-.5)*(r-n);return Math.ceil(r+i)}(t),r=Date.now()+n;this.queue.push({retryAt:r,requestOptions:e});var i="Enqueued failed request for retry in ".concat(n);navigator.onLine||(i+=" (Browser is offline)"),re.warn(i),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var e=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout((function(){e.areWeOnline&&e.queue.length>0&&e.flush(),e.poll()}),this.pollIntervalMs)}},{key:"flush",value:function(){var e=Date.now(),t=[],n=this.queue.filter((function(n){return n.retryAt<e||(t.push(n),!1)}));if(this.queue=t,n.length>0){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var o=r.value.requestOptions;this.retriableRequest(o)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var e,t=S(this.queue);try{for(t.s();!(e=t.n()).done;){var n=e.value.requestOptions;try{this.instance._send_request(v(v({},n),{},{transport:"sendBeacon"}))}catch(e){re.error(e)}}}catch(e){t.e(e)}finally{t.f()}this.queue=[]}}]),e}(),gi=1800,vi=function(){function e(t,n,r,i){_(this,e),w(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||nt,this._windowIdGenerator=i||nt;var o=t.persistence_name||t.token,s=t.session_idle_timeout_seconds||gi;if(q(s)?s>gi?re.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):s<60&&re.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(re.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),s=gi),this._sessionTimeoutMs=1e3*Math.min(Math.max(s,60),gi),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){var a=gt.parse(this._window_id_storage_key),u=gt.parse(this._primary_window_exists_storage_key);a&&!u?this._windowId=a:gt.remove(this._window_id_storage_key),gt.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return b(e,[{key:"onSessionId",value:function(e){var t=this;return B(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){t._sessionIdChangedHandlers=t._sessionIdChangedHandlers.filter((function(t){return t!==e}))}}},{key:"_canUseSessionStorage",value:function(){return"memory"!==this.config.persistence&&!this.persistence.disabled&&gt.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&gt.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?gt.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,t,n){e===this._sessionId&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register(w({},Pe,[t,e,n])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[Pe];return C(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;null==H||H.addEventListener("beforeunload",(function(){e._canUseSessionStorage()&&gt.remove(e._primary_window_exists_storage_key)}))}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime(),n=k(this._getSessionId(),3),r=n[0],i=n[1],o=n[2],s=this._getWindowId(),a=o&&o>0&&Math.abs(t-o)>864e5,u=!1,l=!i,c=!e&&Math.abs(t-r)>this._sessionTimeoutMs;l||c||a?(i=this._sessionIdGenerator(),s=this._windowIdGenerator(),re.info("[SessionId] new session ID generated",{sessionId:i,windowId:s,changeReason:{noSessionId:l,activityTimeout:c,sessionPastMaximumLength:a}}),o=t,u=!0):s||(s=this._windowIdGenerator(),u=!0);var d=0===r||!e||a?t:r,f=0===o?(new Date).getTime():o;return this._setWindowId(s),this._setSessionId(i,d,f),u&&this._sessionIdChangedHandlers.forEach((function(e){return e(i,s)})),{sessionId:i,windowId:s,sessionStartTimestamp:f}}}]),e}();!function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"}(fi||(fi={}));var mi="i.posthog.com",_i=function(){function e(t){_(this,e),w(this,"_regionCache",{}),this.instance=t}return b(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var e,t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\/$/,"");return"https://app.posthog.com"===t?"https://us.posthog.com":t}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=fi.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=fi.EU:this._regionCache[this.apiHost]=fi.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t&&(t="/"===t[0]?t:"/".concat(t)),"ui"===e)return(this.uiHost||this.apiHost.replace(".".concat(mi),".posthog.com"))+t;if(this.region===fi.CUSTOM)return this.apiHost+t;var n=mi+t;switch(e){case"assets":return"https://".concat(this.region,"-assets.").concat(n);case"api":return"https://".concat(this.region,".").concat(n)}}}]),e}(),yi=b((function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["error"];_(this,e),this.name="posthog-js",this.setupOnce=function(e){e((function(e){var s,a,u,l,c;if("*"!==o&&!o.includes(e.level)||!t.__loaded)return e;e.tags||(e.tags={});var d=t.requestRouter.endpointFor("ui","/project/".concat(t.config.token,"/person/").concat(t.get_distinct_id()));e.tags["PostHog Person URL"]=d,t.sessionRecordingStarted()&&(e.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var f=(null===(s=e.exception)||void 0===s?void 0:s.values)||[],h={$exception_message:(null===(a=f[0])||void 0===a?void 0:a.value)||e.message,$exception_type:null===(u=f[0])||void 0===u?void 0:u.type,$exception_personURL:d,$sentry_event_id:e.event_id,$sentry_exception:e.exception,$sentry_exception_message:(null===(l=f[0])||void 0===l?void 0:l.value)||e.message,$sentry_exception_type:null===(c=f[0])||void 0===c?void 0:c.type,$sentry_tags:e.tags,$level:e.level};return n&&r&&(h.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+e.event_id),t.capture("$exception",h),e}))}}));var bi=function(){function e(t){_(this,e),this._instance=t}return b(e,[{key:"doPageView",value:function(){var e,t=this._previousScrollProperties();return this._currentPath=null!==(e=null==H?void 0:H.location.pathname)&&void 0!==e?e:"",this._instance.scrollManager.resetContext(),t}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var e=this._currentPath,t=this._instance.scrollManager.getContext();if(!e||!t)return{};var n=t.maxScrollHeight,r=t.lastScrollY,i=t.maxScrollY,o=t.maxContentHeight,s=t.lastContentY,a=t.maxContentY;return B(n)||B(r)||B(i)||B(o)||B(s)||B(a)?{}:(n=Math.ceil(n),r=Math.ceil(r),i=Math.ceil(i),o=Math.ceil(o),s=Math.ceil(s),a=Math.ceil(a),{$prev_pageview_pathname:e,$prev_pageview_last_scroll:r,$prev_pageview_last_scroll_percentage:n<=1?1:wi(r/n,0,1),$prev_pageview_max_scroll:i,$prev_pageview_max_scroll_percentage:n<=1?1:wi(i/n,0,1),$prev_pageview_last_content:s,$prev_pageview_last_content_percentage:o<=1?1:wi(s/o,0,1),$prev_pageview_max_content:a,$prev_pageview_max_content_percentage:o<=1?1:wi(a/o,0,1)})}}]),e}();function wi(e,t,n){return Math.max(t,Math.min(e,n))}var ki={icontains:function(e){return!!H&&H.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!H&&function(e,t){return!!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t)&&new RegExp(t).test(e)}(H.location.href,e)},exact:function(e){return(null==H?void 0:H.location.href)===e}},Ai=function(){function e(t){_(this,e),this.instance=t}return b(e,[{key:"afterDecideResponse",value:function(e){this._decideServerResponse=!!e.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var e=this,t=null==te?void 0:te.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||t||me(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),(function(t){if(t)return re.error("Could not load surveys script",t);te.extendPostHogWithSurveys(e.instance)}))}},{key:"getSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return e([]);var r=this.instance.get_property(Le);if(r&&!n)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(n){var r;if(200!==n.statusCode||!n.json)return e([]);var i=n.json.surveys||[];return null===(r=t.instance.persistence)||void 0===r||r.register(w({},Le,i)),e(i)}})}},{key:"getActiveMatchingSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((function(n){var r=n.filter((function(e){return!(!e.start_date||e.end_date)})).filter((function(e){var t,n,r,i;if(!e.conditions)return!0;var o=null===(t=e.conditions)||void 0===t||!t.url||ki[null!==(n=null===(r=e.conditions)||void 0===r?void 0:r.urlMatchType)&&void 0!==n?n:"icontains"](e.conditions.url),s=null===(i=e.conditions)||void 0===i||!i.selector||(null==Q?void 0:Q.querySelector(e.conditions.selector));return o&&s})).filter((function(e){if(!e.linked_flag_key&&!e.targeting_flag_key)return!0;var n=!e.linked_flag_key||t.instance.featureFlags.isFeatureEnabled(e.linked_flag_key),r=!e.targeting_flag_key||t.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key);return n&&r}));return e(r)}),n)}}]),e}(),xi=function(){function e(t){var n,r,i=this;_(this,e),w(this,"serverLimits",{}),w(this,"lastEventRateLimited",!1),w(this,"checkForLimiting",(function(e){var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach((function(e){re.info("[RateLimiter] ".concat(e||"events"," is quota limited.")),i.serverLimits[e]=(new Date).getTime()+6e4}))}catch(e){return void re.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(null==e?void 0:e.message,'"'),{text:t})}})),this.instance=t,this.captureEventsPerSecond=(null===(n=t.config.rate_limiting)||void 0===n?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(r=t.config.rate_limiting)||void 0===r?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}return b(e,[{key:"clientRateLimitContext",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=(new Date).getTime(),o=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(Ne))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:i};o.tokens+=(i-o.last)/1e3*this.captureEventsPerSecond,o.last=i,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var s=o.tokens<1;return s||r||(o.tokens=Math.max(0,o.tokens-1)),!s||this.lastEventRateLimited||r||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=s,null===(n=this.instance.persistence)||void 0===n||n.set_property(Ne,o),{isRateLimited:s,remainingTokens:o.tokens}}},{key:"isServerRateLimited",value:function(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}]),e}(),Ei=function(){return v({initialPathName:(null==J?void 0:J.pathname)||"",referringDomain:mn.referringDomain()},mn.campaignParams())},Si=function(){function e(t,n,r){var i=this;_(this,e),w(this,"_onSessionIdCallback",(function(e){var t=i._getStoredProps();if(!t||t.sessionId!==e){var n={sessionId:e,props:i._sessionSourceParamGenerator()};i._persistence.register(w({},$e,n))}})),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||Ei,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return b(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[$e]}},{key:"getSessionProps",value:function(){var e,t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}]),e}(),Ii=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],Fi=function(e,t){if(!e)return!1;var n=e.toLowerCase();return Ii.concat(t||[]).some((function(e){var t=e.toLowerCase();return-1!==n.indexOf(t)}))},Pi=function(){function e(){_(this,e),this.clicks=[]}return b(e,[{key:"isRageClick",value:function(e,t,n){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&n-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}}]),e}();function Ti(e){var t;return e.id===He||!(null===(t=e.closest)||void 0===t||!t.call(e,"#"+He))}var Ri=function(){function e(t){var n;_(this,e),w(this,"rageclicks",new Pi),w(this,"_enabledServerSide",!1),w(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!(null===(n=this.instance.persistence)||void 0===n||!n.props[ke])}return b(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(re.info("[heatmaps] Heatmaps enabled, starting..."),this._setupListeners())}},{key:"isEnabled",get:function(){return B(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register(w({},ke,t)),this._enabledServerSide=t,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var e=this.buffer;return this.buffer=void 0,e}},{key:"_setupListeners",value:function(){var e=this;H&&Q&&(ve(Q,"click",(function(t){return e._onClick(t||(null==H?void 0:H.event))}),!1,!0),ve(Q,"mousemove",(function(t){return e._onMouseMove(t||(null==H?void 0:H.event))}),!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(e,t){var n=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),o=function(e,t,n){for(var r=e;r&&!Pn(r,"body");){if(r===n)return!1;if(le(t,null==H?void 0:H.getComputedStyle(r).position))return!0;r=On(r)}return!1}(e.target,["fixed","sticky"],i);return{x:e.clientX+(o?0:r),y:e.clientY+(o?0:n),target_fixed:o,type:t}}},{key:"_onClick",value:function(e){var t;if(!Ti(e.target)){var n=this._getProperties(e,"click");null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(v(v({},n),{},{type:"rageclick"})),this._capture(n)}}},{key:"_onMouseMove",value:function(e){var t=this;Ti(e.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout((function(){t._capture(t._getProperties(e,"mousemove"))}),500))}},{key:"_capture",value:function(e){if(H){var t=H.location.href;this.buffer=this.buffer||{},this.buffer[t]||(this.buffer[t]=[]),this.buffer[t].push(e)}}}]),e}(),Ci=function(){function e(t){var n=this;_(this,e),w(this,"_updateScrollData",(function(){var e,t,r,i;n.context||(n.context={});var o=n.scrollElement(),s=n.scrollY(),a=o?Math.max(0,o.scrollHeight-o.clientHeight):0,u=s+((null==o?void 0:o.clientHeight)||0),l=(null==o?void 0:o.scrollHeight)||0;n.context.lastScrollY=Math.ceil(s),n.context.maxScrollY=Math.max(s,null!==(e=n.context.maxScrollY)&&void 0!==e?e:0),n.context.maxScrollHeight=Math.max(a,null!==(t=n.context.maxScrollHeight)&&void 0!==t?t:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,null!==(r=n.context.maxContentY)&&void 0!==r?r:0),n.context.maxContentHeight=Math.max(l,null!==(i=n.context.maxContentHeight)&&void 0!==i?i:0)})),this.instance=t}return b(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var e=this.context;return setTimeout(this._updateScrollData,0),e}},{key:"startMeasuringScrollPosition",value:function(){null==H||H.addEventListener("scroll",this._updateScrollData,!0),null==H||H.addEventListener("scrollend",this._updateScrollData,!0),null==H||H.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return null==H?void 0:H.document.documentElement;var e,t=S(C(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=null==H?void 0:H.document.querySelector(n);if(r)return r}}catch(e){t.e(e)}finally{t.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return H&&(H.scrollY||H.pageYOffset||H.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return H&&(H.scrollX||H.pageXOffset||H.document.documentElement.scrollLeft)||0}}]),e}(),Oi=function(){function e(){_(this,e),w(this,"events",{}),this.events={}}return b(e,[{key:"on",value:function(e,t){var n=this;return this.events[e]||(this.events[e]=[]),this.events[e].push(t),function(){n.events[e]=n.events[e].filter((function(e){return e!==t}))}}},{key:"emit",value:function(e,t){var n,r=S(this.events[e]||[]);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(e){r.e(e)}finally{r.f()}var i,o=S(this.events["*"]||[]);try{for(o.s();!(i=o.n()).done;)(0,i.value)(e,t)}catch(e){o.e(e)}finally{o.f()}}}]),e}(),Mi="$copy_autocapture";function Li(e,t){return t.length>e?t.slice(0,e)+"...":t}var Bi,ji,$i=function(){function e(t){_(this,e),w(this,"_initialized",!1),w(this,"_isDisabledServerSide",null),w(this,"rageclicks",new Pi),w(this,"_elementsChainAsString",!1),this.instance=t}return b(e,[{key:"config",get:function(){var e,t=M(this.instance.config.autocapture)?this.instance.config.autocapture:{};return t.url_allowlist=null===(e=t.url_allowlist)||void 0===e?void 0:e.map((function(e){return new RegExp(e)})),t}},{key:"_addDomEventHandlers",value:function(){var e=this;if(this.isBrowserSupported()){if(H&&Q){var t=function(t){t=t||(null==H?void 0:H.event);try{e._captureEvent(t)}catch(e){re.error("Failed to capture event",e)}},n=function(t){t=t||(null==H?void 0:H.event),e._captureEvent(t,Mi)};ve(Q,"submit",t,!1,!0),ve(Q,"change",t,!1,!0),ve(Q,"click",t,!1,!0),this.config.capture_copied_text&&(ve(Q,"copy",n,!1,!0),ve(Q,"cut",n,!1,!0))}}else re.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(w({},we,!!e.autocapture_opt_out)),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var e,t,n=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[we],r=this._isDisabledServerSide;if($(r)&&!D(n)&&!this.instance.config.advanced_disable_decide)return!1;var i=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!n;return!!this.instance.config.autocapture&&!i}},{key:"_previousElementSibling",value:function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!Fn(t));return t}},{key:"_getAugmentPropertiesFromElement",value:function(e){if(!Ln(e))return{};var t={};return ae(e.attributes,(function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var n=e.name.replace("data-ph-capture-attribute-",""),r=e.value;n&&r&&Hn(r)&&(t[n]=r)}})),t}},{key:"_getPropertiesFromElement",value:function(e,t,n){var r,i=e.tagName.toLowerCase(),o={tag_name:i};Cn.indexOf(i)>-1&&!n&&("a"===i.toLowerCase()||"button"===i.toLowerCase()?o.$el_text=Li(1024,zn(e)):o.$el_text=Li(1024,In(e)));var s=En(e);s.length>0&&(o.classes=s.filter((function(e){return""!==e})));var a=null===(r=this.config)||void 0===r?void 0:r.element_attribute_ignorelist;ae(e.attributes,(function(n){var r;if((!Bn(e)||-1!==["name","id","class","aria-label"].indexOf(n.name))&&(null==a||!a.includes(n.name))&&!t&&Hn(n.value)&&(r=n.name,!j(r)||"_ngcontent"!==r.substring(0,10)&&"_nghost"!==r.substring(0,7))){var i=n.value;"class"===n.name&&(i=xn(i).join(" ")),o["attr__"+n.name]=Li(1024,i)}}));for(var u=1,l=1,c=e;c=this._previousElementSibling(c);)u++,c.tagName===e.tagName&&l++;return o.nth_child=u,o.nth_of_type=l,o}},{key:"_getDefaultProperties",value:function(e){return{$event_type:e,$ce_version:1}}},{key:"_getEventTarget",value:function(e){return B(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}},{key:"_captureEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$autocapture";if(this.isEnabled){var r,i=this._getEventTarget(e);Tn(i)&&(i=i.parentNode||null),"$autocapture"===n&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!==(r=this.rageclicks)&&void 0!==r&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,"$rageclick");var o=n===Mi;if(i&&Mn(i,e,this.config,o,o?["copy","cut"]:void 0)){for(var s,a,u=[i],l=i;l.parentNode&&!Pn(l,"body");)Rn(l.parentNode)?(u.push(l.parentNode.host),l=l.parentNode.host):(u.push(l.parentNode),l=l.parentNode);var c,d=[],f={},h=!1;if(ae(u,(function(e){var n=Ln(e);"a"===e.tagName.toLowerCase()&&(c=e.getAttribute("href"),c=n&&Hn(c)&&c),le(En(e),"ph-no-capture")&&(h=!0),d.push(t._getPropertiesFromElement(e,t.instance.config.mask_all_element_attributes,t.instance.config.mask_all_text));var r=t._getAugmentPropertiesFromElement(e);ue(f,r)})),this.instance.config.mask_all_text||("a"===i.tagName.toLowerCase()||"button"===i.tagName.toLowerCase()?d[0].$el_text=zn(i):d[0].$el_text=In(i)),c&&(d[0].attr__href=c),h)return!1;var p=ue(this._getDefaultProperties(e.type),this._elementsChainAsString?{$elements_chain:Vn(d)}:{$elements:d},null!==(s=d[0])&&void 0!==s&&s.$el_text?{$el_text:null===(a=d[0])||void 0===a?void 0:a.$el_text}:{},f);if(n===Mi){var g,v=Sn(null==H||null===(g=H.getSelection())||void 0===g?void 0:g.toString()),m=e.type||"clipboard";if(!v)return!1;p.$selected_content=v,p.$copy_type=m}return this.instance.capture(n,p),!0}}}},{key:"isBrowserSupported",value:function(){return O(null==Q?void 0:Q.querySelectorAll)}}]),e}(),Ni={},qi=function(){},Di="posthog",Ui=!si&&-1===(null==ee?void 0:ee.indexOf("MSIE"))&&-1===(null==ee?void 0:ee.indexOf("Mozilla")),Hi=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=null==Q?void 0:Q.location,n=null==t?void 0:t.hostname,!!j(n)&&"herokuapp.com"!==n.split(".").slice(-2).join(".")),persistence:"localStorage+cookie",persistence_name:"",loaded:qi,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:J&&j(null==J?void 0:J.search)&&-1!==J.search.indexOf("__posthog_debug=true")||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==H||null===(e=H.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(e){var t="Bad HTTP status: "+e.statusCode+" "+e.text;re.error(t)},get_device_id:function(e){return e},_onCapture:qi,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always"}},zi=function(e){var t={};B(e.process_person)||(t.person_profiles=e.process_person),B(e.xhr_headers)||(t.request_headers=e.xhr_headers),B(e.cookie_name)||(t.persistence_name=e.cookie_name),B(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=ue({},t,e);return C(e.property_blacklist)&&(B(e.property_denylist)?n.property_denylist=e.property_blacklist:C(e.property_denylist)?n.property_denylist=[].concat(A(e.property_blacklist),A(e.property_denylist)):re.error("Invalid value for property_denylist config: "+e.property_denylist)),n},Wi=function(){function e(){_(this,e),w(this,"__forceAllowLocalhost",!1)}return b(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(e){re.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}]),e}(),Vi=function(){function e(){var t=this;_(this,e),w(this,"webPerformance",new Wi),w(this,"_debugEventEmitter",new Oi),this.config=Hi(),this.decideEndpointWasHit=!1,this.SentryIntegration=yi,this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new Qe(this),this.toolbar=new xr(this),this.scrollManager=new Ci(this),this.pageViewManager=new bi(this),this.surveys=new Ai(this),this.rateLimiter=new xi(this),this.requestRouter=new _i(this),this.people={set:function(e,n,r){var i=j(e)?w({},e,n):e;t.setPersonProperties(i),null==r||r({})},set_once:function(e,n,r){var i=j(e)?w({},e,n):e;t.setPersonProperties(void 0,i),null==r||r({})}},this.on("eventCaptured",(function(e){return re.info("send",e)}))}return b(e,[{key:"init",value:function(t,n,r){if(r&&r!==Di){var i,o=null!==(i=Ni[r])&&void 0!==i?i:new e;return o._init(t,n,r),Ni[r]=o,Ni[Di][r]=o,o}return this._init(t,n,r)}},{key:"_init",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(B(e)||function(e){return j(e)&&0===e.trim().length}(e))return re.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return re.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(ue({},Hi(),zi(i),{name:o,token:e})),this.compression=i.disable_compression?void 0:ge.Base64,this.persistence=new yn(this.config),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new yn(v(v({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new Er((function(e){return r._send_retriable_request(e)})),this._retryQueue=new pi(this),this.__request_queue=[],this.sessionManager=new vi(this.config,this.persistence),this.sessionPropsManager=new Si(this.sessionManager,this.persistence),this.sessionRecording=new br(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new $i(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Ri(this),this.heatmaps.startIfEnabled(),I.DEBUG=I.DEBUG||this.config.debug,this._gdpr_init(),void 0!==(null===(t=i.bootstrap)||void 0===t?void 0:t.distinctID)){var s,a,u=this.config.get_device_id(nt()),l=null!==(s=i.bootstrap)&&void 0!==s&&s.isIdentifiedID?u:i.bootstrap.distinctID;this.persistence.set_property(je,null!==(a=i.bootstrap)&&void 0!==a&&a.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:i.bootstrap.distinctID,$device_id:l})}if(this._hasBootstrappedFeatureFlags()){var c,d,f=Object.keys((null===(c=i.bootstrap)||void 0===c?void 0:c.featureFlags)||{}).filter((function(e){var t,n;return!(null===(t=i.bootstrap)||void 0===t||null===(n=t.featureFlags)||void 0===n||!n[e])})).reduce((function(e,t){var n,r;return e[t]=(null===(n=i.bootstrap)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r[t])||!1,e}),{}),h=Object.keys((null===(d=i.bootstrap)||void 0===d?void 0:d.featureFlagPayloads)||{}).filter((function(e){return f[e]})).reduce((function(e,t){var n,r,o,s;return null!==(n=i.bootstrap)&&void 0!==n&&null!==(r=n.featureFlagPayloads)&&void 0!==r&&r[t]&&(e[t]=null===(o=i.bootstrap)||void 0===o||null===(s=o.featureFlagPayloads)||void 0===s?void 0:s[t]),e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:f,featureFlagPayloads:h})}if(!this.get_distinct_id()){var p=this.config.get_device_id(nt());this.register_once({distinct_id:p,$device_id:p},""),this.persistence.set_property(je,"anonymous")}return null==H||null===(n=H.addEventListener)||void 0===n||n.call(H,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),i.segment?function(e,t){var n=e.config.segment;if(!n)return t();!function(e,t){var n=e.config.segment;if(!n)return t();var r=function(n){var r=function(){return n.anonymousId()||nt()};e.config.get_device_id=r,n.id()&&(e.register({distinct_id:n.id(),$device_id:r()}),e.persistence.set_property(je,"identified")),t()},i=n.user();"then"in i&&O(i.then)?i.then((function(e){return r(e)})):r(i)}(e,(function(){n.register(function(e){Promise&&Promise.resolve||re.warn("This browser does not have Promise support, and can not use the segment integration");var t=function(t,n){var r;if(!n)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||e.reset(),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(e.register({distinct_id:t.event.userId}),e.reloadFeatureFlags());var i=e._calculate_event_properties(n,null!==(r=t.event.properties)&&void 0!==r?r:{});return t.event.properties=Object.assign({},i,t.event.properties),t};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(e){return t(e,e.event.event)},page:function(e){return t(e,"$pageview")},identify:function(e){return t(e,"$identify")},screen:function(e){return t(e,"$screen")}}}(e)).then((function(){t()}))}))}(this,(function(){return r._loaded()})):this._loaded(),O(this.config._onCapture)&&this.on("eventCaptured",(function(e){return r.config._onCapture(e.event,e)})),this}},{key:"_afterDecideResponse",value:function(e){var t,n,r,i,o;this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=le(e.supportedCompression,ge.GZipJS)?ge.GZipJS:le(e.supportedCompression,ge.Base64)?ge.Base64:void 0),null!==(t=e.analytics)&&void 0!==t&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),null===(n=this.sessionRecording)||void 0===n||n.afterDecideResponse(e),null===(r=this.autocapture)||void 0===r||r.afterDecideResponse(e),null===(i=this.heatmaps)||void 0===i||i.afterDecideResponse(e),null===(o=this.surveys)||void 0===o||o.afterDecideResponse(e)}},{key:"_loaded",value:function(){var e=this,t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(e){re.critical("`loaded` function failed",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout((function(){Q&&e.capture("$pageview",{title:Q.title},{send_instantly:!0})}),1),t||(new wr(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||se(this.__request_queue,(function(t){return e._send_retriable_request(t)})),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(e){var t=this;this.__loaded&&(Ui?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=ui(e.url,{ip:this.config.ip?1:0}),e.headers=this.config.request_headers,e.compression="best-available"===e.compression?this.compression:e.compression,function(e){var t,n,r,i=v({},e);i.timeout=i.timeout||6e4,i.url=ui(i.url,{_:(new Date).getTime().toString(),ver:I.LIB_VERSION,compression:i.compression});var o=null!==(t=i.transport)&&void 0!==t?t:"XHR",s=null!==(n=null===(r=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}(di,(function(e){return e.transport===o})))||void 0===r?void 0:r.method)&&void 0!==n?n:di[0].method;if(!s)throw new Error("No available transport method");s(i)}(v(v({},e),{},{callback:function(n){var r,i,o;t.rateLimiter.checkForLimiting(n),n.statusCode>=400&&(null===(i=(o=t.config).on_request_error)||void 0===i||i.call(o,n)),null===(r=e.callback)||void 0===r||r.call(e,n)}}))))}},{key:"_send_retriable_request",value:function(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}},{key:"_execute_array",value:function(e){var t,n=this,r=[],i=[],o=[];se(e,(function(e){e&&(t=e[0],C(t)?o.push(e):O(e)?e.call(n):C(e)&&"alias"===t?r.push(e):C(e)&&-1!==t.indexOf("capture")&&O(n[t])?o.push(e):i.push(e))}));var s=function(e,t){se(e,(function(e){if(C(e[0])){var n=t;ae(e,(function(e){n=n[e[0]].apply(n,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};s(r,this),s(i,this),s(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,t,n){var r;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return re.uninitializedWarning("posthog.capture");if(!fr(this))if(!B(e)&&j(e)){if(!ee||this.config.opt_out_useragent_filter||!Fi(ee,this.config.custom_blocked_useragents)){var i=null!=n&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==i||!i.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&(this.sessionPersistence.update_campaign_params(),this.persistence.set_initial_campaign_params()),this.config.save_referrer&&(this.sessionPersistence.update_referrer_info(),this.persistence.set_initial_referrer_info());var o={uuid:nt(),event:e,properties:this._calculate_event_properties(e,t||{})};if(null==n||!n._noHeatmaps){var s,a=null===(s=this.heatmaps)||void 0===s?void 0:s.getAndClearBuffer();a&&(o.properties.$heatmap_data=a)}i&&(o.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),(null==n?void 0:n.$set)&&(o.$set=null==n?void 0:n.$set);var u=this._calculate_set_once_properties(null==n?void 0:n.$set_once);u&&(o.$set_once=u),(o=function(e,t){return n=e,r=function(e){return j(e)&&!$(t)?e.slice(0,t):e},i=new Set,function e(t,n){return t!==Object(t)?r?r(t):t:i.has(t)?void 0:(i.add(t),C(t)?(o=[],se(t,(function(t){o.push(e(t))}))):(o={},ae(t,(function(t,n){i.has(t)||(o[n]=e(t,n))}))),o);var o}(n);var n,r,i}(o,null!=n&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=(null==n?void 0:n.timestamp)||new Date,B(null==n?void 0:n.timestamp)||(o.properties.$event_time_override_provided=!0,o.properties.$event_time_override_system_time=new Date);var l=v(v({},o.properties.$set),o.$set);L(l)||this.setPersonPropertiesForFlags(l),this._debugEventEmitter.emit("eventCaptured",o);var c={method:"POST",url:null!==(r=null==n?void 0:n._url)&&void 0!==r?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:o,compression:"best-available",batchKey:null==n?void 0:n._batchKey};return!this.config.request_batching||n&&(null==n||!n._batchKey)||null!=n&&n.send_instantly?this._send_retriable_request(c):this._requestQueue.enqueue(c),o}re.critical("This capture call is ignored due to client rate limiting.")}}else re.error("No event name provided to posthog.capture")}},{key:"_addCaptureHook",value:function(e){this.on("eventCaptured",(function(t){return e(t.event)}))}},{key:"_calculate_event_properties",value:function(e,t){if(!this.persistence||!this.sessionPersistence)return t;var n=this.persistence.remove_event_timer(e),r=v({},t);if(r.token=this.config.token,"$snapshot"===e){var i=v(v({},this.persistence.properties()),this.sessionPersistence.properties());return r.distinct_id=i.distinct_id,r}var o=mn.properties();if(this.sessionManager){var s=this.sessionManager.checkAndGetSessionAndWindowId(),a=s.sessionId,u=s.windowId;r.$session_id=a,r.$window_id=u}if(this.requestRouter.region===fi.CUSTOM&&(r.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&("$pageview"===e||"$pageleave"===e||"$autocapture"===e)){var l=this.sessionPropsManager.getSessionProps();r=ue(r,l)}if(!this.config.disable_scroll_properties){var c={};"$pageview"===e?c=this.pageViewManager.doPageView():"$pageleave"===e&&(c=this.pageViewManager.doPageLeave()),r=ue(r,c)}if("$pageview"===e&&Q&&(r.title=Q.title),!B(n)){var d=(new Date).getTime()-n;r.$duration=parseFloat((d/1e3).toFixed(3))}ee&&this.config.opt_out_useragent_filter&&(r.$browser_type=Fi(ee,this.config.custom_blocked_useragents)?"bot":"browser"),(r=ue({},o,this.persistence.properties(),this.sessionPersistence.properties(),r)).$is_identified=this._isIdentified(),C(this.config.property_denylist)?ae(this.config.property_denylist,(function(e){delete r[e]})):re.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var f=this.config.sanitize_properties;return f&&(r=f(r,e)),r.$process_person_profile=this._hasPersonProcessing(),r}},{key:"_calculate_set_once_properties",value:function(e){if(!this.persistence||!this._hasPersonProcessing())return e;var t=ue({},this.persistence.get_initial_props(),e||{});return L(t)?void 0:t}},{key:"register",value:function(e,t){var n;null===(n=this.persistence)||void 0===n||n.register(e,t)}},{key:"register_once",value:function(e,t,n){var r;null===(r=this.persistence)||void 0===r||r.register_once(e,t,n)}},{key:"register_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}},{key:"unregister",value:function(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}},{key:"unregister_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}},{key:"_register_single",value:function(e,t){this.register(w({},e,t))}},{key:"getFeatureFlag",value:function(e,t){return this.featureFlags.getFeatureFlag(e,t)}},{key:"getFeatureFlagPayload",value:function(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}},{key:"isFeatureEnabled",value:function(e,t){return this.featureFlags.isFeatureEnabled(e,t)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}},{key:"getEarlyAccessFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}},{key:"on",value:function(e,t){return this._debugEventEmitter.on(e,t)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var t,n;return null!==(t=null===(n=this.sessionManager)||void 0===n?void 0:n.onSessionId(e))&&void 0!==t?t:function(){}}},{key:"getSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}},{key:"getActiveMatchingSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}},{key:"identify",value:function(e,t,n){if(!this.__loaded||!this.persistence)return re.uninitializedWarning("posthog.identify");if(q(e)&&(e=e.toString(),re.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))re.critical('The string "'.concat(e,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var i=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}e!==r&&e!==this.get_property(ye)&&(this.unregister(ye),this.register({distinct_id:e}));var o="anonymous"===(this.persistence.get_property(je)||"anonymous");e!==r&&o?(this.persistence.set_property(je,"identified"),this.setPersonPropertiesForFlags(t||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:n||{}}),this.featureFlags.setAnonymousDistinctId(r)):(t||n)&&this.setPersonProperties(t,n),e!==r&&(this.reloadFeatureFlags(),this.unregister(Be))}}else re.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,t){(e||t)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:t||{}}))}},{key:"group",value:function(e,t,n){if(e&&t){if(this._requirePersonProcessing("posthog.group")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:v(v({},r),{},w({},e,t))}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags(w({},e,n))),r[e]===t||n||this.reloadFeatureFlags()}}else re.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(e,t)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){var t,n,r,i;if(!this.__loaded)return re.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");null===(t=this.persistence)||void 0===t||t.clear(),null===(n=this.sessionPersistence)||void 0===n||n.clear(),null===(r=this.persistence)||void 0===r||r.set_property(je,"anonymous"),null===(i=this.sessionManager)||void 0===i||i.resetSessionId();var s=this.config.get_device_id(nt());this.register_once({distinct_id:s,$device_id:e?s:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var t=this.sessionManager.checkAndGetSessionAndWindowId(!0),n=t.sessionId,r=t.sessionStartTimestamp,i=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(n));if(null!=e&&e.withTimestamp&&r){var o,s=null!==(o=e.timestampLookBack)&&void 0!==o?o:10;if(!r)return i;var a=Math.max(Math.floor(((new Date).getTime()-r)/1e3)-s,0);i+="?t=".concat(a)}return i}},{key:"alias",value:function(e,t){return e===this.get_property(_e)?(re.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(B(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(ye,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(re.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}},{key:"set_config",value:function(e){var t,n,r,i,o=v({},this.config);M(e)&&(ue(this.config,zi(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,o),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new yn(v(v({},this.config),{},{persistence:"sessionStorage"})),lt.is_supported()&&"true"===lt.get("ph_debug")&&(this.config.debug=!0),this.config.debug&&(I.DEBUG=!0),null===(n=this.sessionRecording)||void 0===n||n.startIfEnabledOrStop(),null===(r=this.autocapture)||void 0===r||r.startIfEnabled(),null===(i=this.heatmaps)||void 0===i||i.startIfEnabled(),this.surveys.loadIfEnabled())}},{key:"startSessionRecording",value:function(e){if(null!=e&&e.sampling){var t,n,r=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId();null===(n=this.persistence)||void 0===n||n.register(w({},Te,!0)),re.info("Session recording started with sampling override for session: ",null==r?void 0:r.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}},{key:"getSessionProperty",value:function(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}},{key:"toString",value:function(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:Di;return t!==Di&&(t=Di+"."+t),t}},{key:"_isIdentified",value:function(){var e,t;return"identified"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(je))||"identified"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(je))}},{key:"_hasPersonProcessing",value:function(){var e,t,n,r;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&L(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[ye])&&(null===(n=this.persistence)||void 0===n||null===(r=n.props)||void 0===r||!r[Ue]))}},{key:"_shouldCapturePageleave",value:function(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&this.config.capture_pageview}},{key:"_requirePersonProcessing",value:function(e){return"never"===this.config.person_profiles?(re.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(Ue,!0),!0)}},{key:"_gdpr_init",value:function(){"localStorage"===this.config.opt_out_capturing_persistence_type&&lt.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!at.get("ph_optout")||(at.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(e){var t,n,r,i,o;if(e&&e.clear_persistence)r=!0;else{if(!e||!e.enable_persistence)return;r=!1}this.config.disable_persistence||(null===(t=this.persistence)||void 0===t?void 0:t.disabled)===r||null===(i=this.persistence)||void 0===i||i.set_disabled(r),this.config.disable_persistence||(null===(n=this.sessionPersistence)||void 0===n?void 0:n.disabled)===r||null===(o=this.sessionPersistence)||void 0===o||o.set_disabled(r)}},{key:"_gdpr_call_func",value:function(e,t){return t=ue({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},t||{}),lt.is_supported()||"localStorage"!==t.persistence_type||(t.persistence_type="cookie"),e(this.config.token,{capture:t.capture,captureEventName:t.capture_event_name,captureProperties:t.capture_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieExpiration:t.cookie_expiration,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie})}},{key:"opt_in_capturing",value:function(e){e=ue({enable_persistence:!0},e||{}),this._gdpr_call_func(rr,e),this._gdpr_update_persistence(e)}},{key:"opt_out_capturing",value:function(e){var t=ue({clear_persistence:!0},e||{});this._gdpr_call_func(ir,t),this._gdpr_update_persistence(t)}},{key:"has_opted_in_capturing",value:function(e){return this._gdpr_call_func(or,e)}},{key:"has_opted_out_capturing",value:function(e){return this._gdpr_call_func(sr,e)}},{key:"clear_opt_in_out_capturing",value:function(e){var t=ue({enable_persistence:!0},null!=e?e:{});this._gdpr_call_func(ar,t),this._gdpr_update_persistence(t)}},{key:"debug",value:function(e){!1===e?(null==H||H.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==H||H.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();!function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=he(e.prototype[t[n]])}(Vi,["identify"]),function(e){e.Popover="popover",e.API="api",e.Widget="widget"}(Bi||(Bi={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(ji||(ji={}));var Gi;Gi=Ni[Di]=new Vi,function(){function e(){e.done||(e.done=!0,Ui=!1,ae(Ni,(function(e){e._dom_loaded()})))}null!=Q&&Q.addEventListener&&("complete"===Q.readyState?e():Q.addEventListener("DOMContentLoaded",e,!1)),H&&ve(H,"load",e,!0)}();const Yi=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map((e=>[e.name,e]));new Map(Yi);Error;new WeakSet;n(1429).NODE_ENV;function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Ji=class e{static test(t,n=""){if(!t)return!1;if(Array.isArray(t))return t.some((t=>e.test(t,n)));switch(arguments.length){case 1:if(t instanceof e)return!0;try{new e(t);return!0}catch(e){return!1}case 2:return t instanceof e||(t=new e(t)),t.test(n);default:throw new TypeError("URLMatchPattern.test requires 1 or 2 arguments")}}static toRegExp(t,n){return(t=new e(t)).toRegExp(n)}XtoRegExp(){let t="^";this.isAllUrls?t+="(file://|(<scheme>)://<host>)":"*"===this.scheme?t+="https?://<host>":t+=`${this.scheme}://<host>`,t+="<path>$",t=t.replace("<scheme>",e.resScheme);let n="";if(this.host){if("*"===this.host)n="(<label>\\.)*<label>";else{let e=this.host;this.host.startsWith("*.")&&(n="(<label>\\.)*",e=this.host.substr(2)),n+=e.replace(/[\.\-]/g,"\\$&")}n=n.replace(/<label>/g,e.resDomainLabel)}return t=t.replace("<host>",n),t=t.replace("<path>",this.path.replace(/[.+?^${}()|[\]\\\/]/g,"\\$&").replace(/\*/g,".*")),new RegExp(t)}valueOf(){return this.isAllUrls?"<all_urls>":this.host?{scheme:this.scheme,host:this.host,path:this.path}:{scheme:this.scheme,path:this.path}}toString(){return this.isAllUrls?"<all_urls>":`${this.scheme}://${this.host}${this.path}`}toRegExp(e=""){return new RegExp(this.regExp,e)}test(e){if(!(e instanceof URL))try{e=new URL(e)}catch(e){return!1}return e=`${e.protocol}//${e.hostname}${e.pathname}${e.search}${e.hash}`,this.regExp.test(e)}constructor(t){if(Qi(this,"isAllUrls",!1),Qi(this,"scheme",void 0),Qi(this,"host",void 0),Qi(this,"path",void 0),Qi(this,"regExp",void 0),1!==arguments.length)throw new TypeError("URLMatchPattern requires exact 1 argument");"<all_urls>"===t?(this.isAllUrls=!0,t="*://*/*"):"string"!=typeof t&&(t=t.toString());const n=e.reoMatchPattern.exec(t);if(!n)throw new SyntaxError(`Invalid URL match pattern: ${t}`);if(this.scheme=n[1]||"file",this.host=n[2]||"",this.path=n[3],"file"!==this.scheme&&!this.host)throw new SyntaxError(`Invalid URL match pattern: ${t}`);this.regExp=this.XtoRegExp()}};Qi(Ji,"resScheme","https?|wss?|ftp|file"),Qi(Ji,"resDomainLabel","[0-9A-Za-z]+(?:\\-+[0-9A-Za-z]+)*"),Qi(Ji,"resMatchPattern","^<all_urls>$|^(?:(?:file://|(?:(\\*|<scheme>)://(<host>)))(<path>))$".replace("<scheme>",Ji.resScheme).replace("<host>","\\*|(?:\\*\\.)?<label>(?:\\.<label>)*".replace(/<label>/g,Ji.resDomainLabel)).replace("<path>","/.*")),Qi(Ji,"reoMatchPattern",new RegExp(Ji.resMatchPattern));const Xi=(t={})=>{const{container:n,containerPath:r,containerIndex:i,filter:o=(()=>!0)}=t;if(n&&document.documentElement.contains(n)&&o(n)&&void 0!==r&&void 0!==i)return t;if(r){const t=e(r);for(let e=0;e<t.length;e+=1){const n=document.evaluate(t[e],document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if(n.snapshotLength>0){if(void 0!==i){const r=n.snapshotItem(i),s=r instanceof HTMLElement?r:null==r?void 0:r.parentElement;if(s&&o(s))return{container:s,containerPath:t[e],containerIndex:i}}for(let r=0;r<n.snapshotLength;r+=1){const i=n.snapshotItem(r),s=i instanceof HTMLElement?i:null==i?void 0:i.parentElement;if(s&&o(s))return{container:s,containerPath:t[e],containerIndex:r}}}}}return{container:document.documentElement,containerPath:"//html",containerIndex:0}},Ki=({foundContainer:t=Xi(),element:n,elementPath:r,elementIndex:i,filter:o=(()=>!0)})=>{t=Xi(t);const{container:s}=t;if(n&&(null==s?void 0:s.contains(n))&&o(n)&&void 0!==r&&void 0!==i)return{foundContainer:t,element:n,elementPath:r,elementIndex:i};if(s&&r){const n=e(r);for(let e=0;e<n.length;e+=1){const r=document.evaluate(n[e],s,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if(r.snapshotLength>0){if(void 0!==i){const s=r.snapshotItem(i),a=s instanceof HTMLElement?s:null==s?void 0:s.parentElement;if(a&&o(a))return{foundContainer:t,element:a,elementPath:n[e],elementIndex:i}}for(let i=0;i<r.snapshotLength;i+=1){const s=r.snapshotItem(i),a=s instanceof HTMLElement?s:null==s?void 0:s.parentElement;if(a&&o(a))return{foundContainer:t,element:a,elementPath:n[e],elementIndex:i}}}}}return null},Zi=e=>{if(!e)return!1;const t=["checkbox","radio"];return!(!("type"in e)||!t.includes(e.type))||"role"in e&&t.includes(e.role||"")},eo=(e,t,n)=>{const r=window.jQuery.Event(e);if(!n)return r;if(n&&"assign"in n&&n.assign&&"object"==typeof n.assign){const e=Object.keys(n.assign);for(let i=0;i<e.length;i+=1){const o=e[i],s=n.assign[o];r[o]="%VALUE%"===s?t:s}}return r},to={dijit:async({foundInput:t,value:n})=>{if(!window.dijit)throw new Error("No dijit!");const r=Ki(t.foundElement);if(!r)throw new Error("Element not found");const{element:i}=r;if(!i)throw new Error("Input not found");if(void 0===n)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};const o=e(n);for(let e=0;e<o.length;e+=1)if(window.dijit.getEnclosingWidget(i).set("value",o[e]),window.dijit.getEnclosingWidget(i).get("value")===o[e])return!0;return!1},jQuery:async({foundInput:e,foundValueElement:t,event:n,eventOptions:r,value:i})=>{var o;if(!window.jQuery)throw new Error("No jQuery");const s=Ki(e.foundElement);if(!s)throw new Error("Element not found");const{element:a}=s;if(!a)throw new Error("Input not found");const u=t&&(null===(o=Ki(t))||void 0===o?void 0:o.element);try{const e=Zi(u)&&u||Zi(a)&&a;if(n)window.jQuery(a).trigger(n,r);else if(a instanceof HTMLSelectElement){if(u instanceof HTMLOptionElement&&(i=u.value),void 0===i)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};window.jQuery(a).trigger(eo("focus",i,r)).trigger(eo("click",i,r)).val(i).trigger(eo("input",i,r)).trigger(eo("change",i,r))}else if(e)window.jQuery(e).trigger(eo("focus",i,r)).trigger(eo("click",i,r)).prop("checked",Boolean(i)).trigger(eo("input",i,r)).trigger(eo("change",i,r));else{if(void 0===i)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};window.jQuery(a).trigger(eo("focus",i,r)).trigger(eo("click",i,r)).trigger(eo("keydown",i,r)).trigger(eo("keypress",i,r)).val(i).trigger(eo("input",i,r)).trigger(eo("keyup",i,r)).trigger(eo("change",i,r))}}catch(e){if(!n&&window.jQuery(a).val()!==i)return!1;throw e}return!0},react:async({foundInput:e,foundValueElement:t,eventOptions:n,value:r})=>{var i;const o=Ki(e.foundElement);if(!o)throw new Error("Element not found");const{element:s}=o;if(!s)throw new Error("Input not found");const a=Object.keys(s).find((e=>/^__reactProps/.test(e)));if(!a)throw new Error("No React event handlers");const u=t&&(null===(i=Ki(t))||void 0===i?void 0:i.element),l=(e,t,r)=>{try{var i;const o=new e(t,n);Object.defineProperty(o,"target",{writable:!1,value:s}),Object.defineProperty(o,"currentTarget",{writable:!1,value:s}),s.dispatchEvent(o),(null===(i=s[a])||void 0===i?void 0:i[r])&&(o.nativeEvent=o,s[a][r](o))}catch(e){}};if(s instanceof HTMLSelectElement)return u instanceof HTMLOptionElement&&(r=u.value),l(FocusEvent,"focus","onFocus"),l(MouseEvent,"click","onClick"),s.value=r,l(InputEvent,"input","onInput"),l(Event,"change","onChange"),l(FocusEvent,"blur","onBlur"),!0;if(s instanceof HTMLButtonElement||["button"].includes("role"in s&&s.role||""))return l(FocusEvent,"focus","onFocus"),l(MouseEvent,"mousedown","onMouseDown"),l(MouseEvent,"mouseup","onMouseUp"),l(MouseEvent,"click","onClick"),l(FocusEvent,"blur","onBlur"),!0;const c=Zi(u)&&u||Zi(s)&&s;if(c)return void 0===r&&(r=!0),c instanceof HTMLInputElement?(!r&&!c.checked||r&&c.checked||(l(FocusEvent,"focus","onFocus"),l(MouseEvent,"click","onClick"),c.checked=Boolean(r),l(InputEvent,"input","onInput"),l(Event,"change","onChange"),l(FocusEvent,"blur","onBlur")),!0):(r&&(l(FocusEvent,"focus","onFocus"),l(MouseEvent,"click","onClick"),l(Event,"change","onChange"),l(FocusEvent,"blur","onBlur")),!0);if(s instanceof HTMLInputElement||s instanceof HTMLTextAreaElement)return l(FocusEvent,"focus","onFocus"),l(MouseEvent,"click","onClick"),l(KeyboardEvent,"keydown","onKeyDown"),l(KeyboardEvent,"keypress","onKeyPress"),s.value=r,s.setAttribute("value",r),l(InputEvent,"input","onInput"),l(KeyboardEvent,"keyup","onKeyUp"),l(Event,"change","onChange"),l(FocusEvent,"blur","onBlur"),!0;throw new Error("Unknown input type")},reactClick:async({foundInput:e,eventOptions:t})=>{const n=Ki(e.foundElement);if(!n)throw new Error("Element not found");const{element:r}=n;if(!r)throw new Error("Input not found");try{const e=Object.keys(r).find((e=>/^__reactProps/.test(e)));if(!e)throw new Error("React props key not found");if(!r[e].onClick)throw new Error("Click handler not found");const n=new MouseEvent("click",t);Object.defineProperty(n,"target",{writable:!1,value:r}),Object.defineProperty(n,"currentTarget",{writable:!1,value:r}),r[e].onClick(n)}catch(e){r.click()}return!0},tinyMCE:async({foundInput:t,value:n})=>{if(!window.tinyMCE)throw new Error("No tinyMCE");const r=Ki(t.foundElement);if(!r)throw new Error("Element not found");const{element:i}=r;if(!i)throw new Error("Input not found");if(void 0===n)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};const o=e(n);for(let e=0;e<o.length;e+=1)if(window.tinyMCE.get(i.id).setContent(o[e]),window.tinyMCE.get(i.id).getContent()===o[e])return!0;return!1},tptEnableResume:async()=>{if(!window.tpt)throw new Error("No tpt");return window.tpt.uploadResume.updateAcceptedFieldMode("file"),window.tpt.uploadResume.uploadResumeInputShower("file"),window.tpt.uploadResume.showUploadFileError(!1),window.tpt.uploadResume.checkFilledResumeFile()?window.tpt.uploadResume.toggleUploadResumeNextButton(!0):window.tpt.uploadResume.toggleUploadResumeNextButton(!1),!0}},no={jQuery:async({foundTrackedInput:t,update:n})=>{if(!window.jQuery)throw new Error("No jQuery");const r=Ki(t.foundFieldElement),i=null==r?void 0:r.element;if(!i)throw new Error("Field not found");const o=Ki({foundContainer:{container:r.element,containerPath:r.elementPath,containerIndex:r.elementIndex},elementPath:t.foundInputElement.elementPath,elementIndex:t.foundInputElement.elementIndex}),s=null==o?void 0:o.element;if(!s)throw new Error("Input not found");const{inputValuePath:a}=t.trackedInputSelector;if(s instanceof HTMLSelectElement)window.jQuery(s).off("change.__simplify__trackInput"),window.jQuery(s).on("change.__simplify__trackInput",(()=>{null==n||n({inputValue:window.jQuery(s).find(e(a||"option:selected").join(", ")).text().trim()||window.jQuery(s).val()})}));else if(Zi(s)){const t=(({foundContainer:t=Xi(),elementsPath:n,filter:r=(()=>!0)})=>{t=Xi(t);const i=[],{container:o}=t;if(o&&n){const s=e(n);for(let e=0;e<s.length;e+=1){const n=s[e],a=document.evaluate(n,o,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let n=0;n<a.snapshotLength;n+=1){const o=a.snapshotItem(n),u=o instanceof HTMLElement?o:null==o?void 0:o.parentElement;u&&r(u)&&i.push({foundContainer:t,element:u,elementPath:s[e],elementIndex:n})}}}return i})({foundContainer:o.foundContainer,elementsPath:o.elementPath});for(let r=0;r<t.length;r+=1){const{element:o}=t[r];o&&(window.jQuery(o).off("change.__simplify__trackInput"),window.jQuery(o).on("change.__simplify__trackInput",(()=>{null==n||n({inputValue:window.jQuery(i).find(e(a||":checked").join(", ")).map(((e,t)=>String(window.jQuery(t).val()||window.jQuery(t).text()))).toArray(),options:window.jQuery(i).find(e(a||[":checked",":not(:checked)"]).join(", ")).map(((e,t)=>String(window.jQuery(t).val()||window.jQuery(t).text()))).toArray()})})))}}else window.jQuery(s).off("change.__simplify__trackInput"),window.jQuery(s).on("change.__simplify__trackInput",(()=>{null==n||n({inputValue:a&&window.jQuery(i).find(e(a).join(", ")).text().trim()||window.jQuery(s).val()})}));return!0}},ro=e=>{var t,n;if(e)return"string"==typeof e?e:{ETIMEDOUT:"Timed out",ECONNABORTED:"Connection aborted"}[e.code||-1]||(null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error)||e.message||void 0};function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const oo=e=>{window.postMessage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){io(e,t,n[t])}))}return e}({action:"__simplify__updateFilledInput"},e),"*")};function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.addEventListener("message",(async e=>{try{var t;if(e.source!==window||"__simplify__fillInput"!==(null===(t=e.data)||void 0===t?void 0:t.action))return;const n=p(e.data),{foundInput:r,method:i}=n,{keyPath:o}=r,s=i&&to[i]||to.default;if(s)try{const e=await s(n);if(!e)throw new Error("Fill could not be confirmed");oo("object"==typeof e?{keyPath:o,status:e.inputFillStatus,message:e.inputFillMessage}:{keyPath:o,status:"filled"})}catch(e){oo({keyPath:o,status:"error",message:ro(e)||"Unknown error"})}}catch(e){}}),!1);const ao=e=>{window.postMessage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){so(e,t,n[t])}))}return e}({action:"__simplify__updateTrackedInput"},e),"*")};function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){uo(e,t,n[t])}))}return e}function co(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}window.addEventListener("message",(async e=>{try{var t;if(e.source!==window||"__simplify__trackInput"!==(null===(t=e.data)||void 0===t?void 0:t.action))return;const n=p(e.data),{trackedInput:r,method:i}=n,{labelText:o}=r,s=i&&no[i]||no.default;if(s)try{if(!await s(co(lo({},n),{update:e=>ao(co(lo({},e),{labelText:o}))})))throw new Error("Tracking could not be confirmed");ao({labelText:o,status:"tracking"})}catch(e){ao({labelText:o,status:"error",message:ro(e)||"Unknown error"})}}catch(e){}}),!1)})()})();